---
title: 'Local Node Setup'
description: 'Complete guide to using the local_node.sh script for rapid development and testing'
---

The `local_node.sh` script is a powerful development tool that quickly sets up a fully-configured local blockchain node for testing and development. It provides a complete testing environment with pre-funded accounts, optimized consensus parameters, and all necessary APIs enabled.

## Overview

The local node script automates the entire process of:
- Building and installing the chain binary
- Creating a fresh chain with proper configuration
- Setting up multiple pre-funded development accounts
- Configuring optimized parameters for fast local testing
- Enabling all APIs and metrics for development

This makes it ideal for:
- Testing configuration changes during chain customization
- Rapid iteration on smart contracts and applications
- Integration testing with a complete local environment
- Learning and experimenting with the platform

## Quick Start

The simplest way to start a local node:

```bash
cd /path/to/evm
./local_node.sh
```

This will:
1. Build and install the `evmd` binary
2. Create a new chain in `~/.evmd`
3. Set up 4 pre-funded development accounts (dev0-dev3)
4. Start the node with all APIs enabled

<Note>
The script requires `jq` to be installed. If you don't have it:
- macOS: `brew install jq`
- Linux: `apt-get install jq` or `yum install jq`
</Note>

## Command-Line Options

### Overwrite Control

Control whether existing chain data is overwritten:

```bash
# Automatically overwrite existing data (no prompt)
./local_node.sh -y

# Never overwrite existing data (no prompt)
./local_node.sh -n
```

Without these flags, you'll be prompted if existing data is found.

### Build Options

```bash
# Skip the make install step (use existing binary)
./local_node.sh --no-install

# Build with debug symbols for remote debugging
./local_node.sh --remote-debugging
```

The `--remote-debugging` flag builds with `nooptimization,nostrip` options, making it easier to debug with tools like Delve.

### Additional Development Accounts

Create extra pre-funded accounts beyond the default four:

```bash
# Create 10 additional accounts (dev4-dev13)
./local_node.sh --additional-users 10
```

Generated mnemonics are saved to `~/.evmd/mnemonics.yaml` by default.

<CodeGroup>
```bash Standard usage
./local_node.sh --additional-users 5
```

```bash Custom mnemonic output
./local_node.sh --additional-users 5 --mnemonic-file ./my-keys.yaml
```
</CodeGroup>

### Custom Mnemonics

Use your own mnemonics instead of the default dev accounts:

```bash
./local_node.sh --mnemonics-input ./my-mnemonics.yaml
```

The input YAML format:

```yaml
mnemonics:
  - "your first mnemonic phrase here"
  - "your second mnemonic phrase here"
  - "your third mnemonic phrase here"
```

<Warning>
You cannot use both `--mnemonics-input` and `--additional-users` together. Use `--mnemonics-input` to provide all accounts, or use `--additional-users` to generate additional random accounts.
</Warning>

## Default Configuration

### Chain Parameters

The script sets up a chain with these default values:

| Parameter | Value | Purpose |
|-----------|-------|---------|
| Chain ID | `9001` | Can be overridden with `CHAIN_ID` env var |
| Moniker | `localtestnet` | Node identifier |
| Home Directory | `~/.evmd` | All chain data location |
| Keyring | `test` | **WARNING: Not secure for production** |
| Key Algorithm | `eth_secp256k1` | Ethereum-compatible keys |
| Base Fee | `10000000` | Initial gas price |
| Denom | `atest` | Base denomination (atto-test) |

### Pre-Funded Development Accounts

Four development accounts are created by default, each funded with `1000000000000000000000atest` (1,000,000 TEST tokens):

<Accordion title="dev0 - Primary Test Account">
**Mnemonic:**
```
copper push brief egg scan entry inform record adjust fossil boss egg
comic alien upon aspect dry avoid interest fury window hint race symptom
```

**Addresses:**
- Ethereum: `0xC6Fe5D33615a1C52c08018c47E8Bc53646A0E101`
- Cosmos: `cosmos1cml96vmptgw99syqrrz8az79xer2pcgp84pdun`
- Private Key: `0x88cbead91aee890d27bf06e003ade3d4e952427e88f88d31d61d3ef5e5d54305`
</Accordion>

<Accordion title="dev1 - Secondary Test Account">
**Mnemonic:**
```
maximum display century economy unlock van census kite error heart snow filter
midnight usage egg venture cash kick motor survey drastic edge muffin visual
```

**Addresses:**
- Ethereum: `0x963EBDf2e1f8DB8707D05FC75bfeFFBa1B5BaC17`
- Cosmos: `cosmos1jcltmuhplrdcwp7stlr4hlhlhgd4htqh3a79sq`
- Private Key: `0x741de4f8988ea941d3ff0287911ca4074e62b7d45c991a51186455366f10b544`
</Accordion>

<Accordion title="dev2 - Third Test Account">
**Mnemonic:**
```
will wear settle write dance topic tape sea glory hotel oppose rebel
client problem era video gossip glide during yard balance cancel file rose
```

**Addresses:**
- Ethereum: `0x40a0cb1C63e026A81B55EE1308586E21eec1eFa9`
- Cosmos: `cosmos1gzsvk8rruqn2sx64acfsskrwy8hvrmafqkaze8`
- Private Key: `0x3b7955d25189c99a7468192fcbc6429205c158834053ebe3f78f4512ab432db9`
</Accordion>

<Accordion title="dev3 - Fourth Test Account">
**Mnemonic:**
```
doll midnight silk carpet brush boring pluck office gown inquiry duck chief
aim exit gain never tennis crime fragile ship cloud surface exotic patch
```

**Addresses:**
- Ethereum: `0x498B5AeC5D439b733dC2F58AB489783A23FB26dA`
- Cosmos: `cosmos1fx944mzagwdhx0wz7k9tfztc8g3lkfk6rrgv6l`
- Private Key: `0x8a36c69d940a92fcea94b36d0f2928c7a0ee19a90073eda769693298dfa9603b`
</Accordion>

<Warning>
These are **well-known test accounts**. Never use them on public networks or with real funds. Anyone with access to these mnemonics can control these accounts.
</Warning>

## Genesis Configuration

The script applies numerous genesis customizations to create an optimal development environment:

### Token Configuration

```json
{
  "staking": { "bond_denom": "atest" },
  "evm": { "evm_denom": "atest" },
  "mint": { "mint_denom": "atest" },
  "gov": {
    "min_deposit": [{ "denom": "atest" }],
    "expedited_min_deposit": [{ "denom": "atest" }]
  }
}
```

All modules use `atest` as the base denomination.

### Denomination Metadata

```json
{
  "base": "atest",
  "display": "test",
  "name": "Test Token",
  "symbol": "TEST",
  "denom_units": [
    { "denom": "atest", "exponent": 0, "aliases": ["attotest"] },
    { "denom": "test", "exponent": 18, "aliases": [] }
  ]
}
```

### ERC20 Configuration

A native precompile is configured for the test token:

```json
{
  "native_precompiles": ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"],
  "token_pairs": [{
    "contract_owner": 1,
    "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
    "denom": "atest",
    "enabled": true
  }]
}
```

This allows the native token to be used as an ERC20 at the special address `0xEeee...EEeE`.

### Active Precompiles

All standard precompiles are enabled:

```json
[
  "0x0000000000000000000000000000000000000100",  // Distribution
  "0x0000000000000000000000000000000000000400",  // Staking
  "0x0000000000000000000000000000000000000800",  // Bank
  "0x0000000000000000000000000000000000000801",  // IBC Transfer
  "0x0000000000000000000000000000000000000802",  // ERC20
  "0x0000000000000000000000000000000000000803",  // P256 Verify
  "0x0000000000000000000000000000000000000804",  // Wasm
  "0x0000000000000000000000000000000000000805",  // ICS20
  "0x0000000000000000000000000000000000000806",  // Staking V2
  "0x0000000000000000000000000000000000000807"   // Address Codec
]
```

### Governance Parameters

Proposal periods are dramatically shortened for fast testing:

```json
{
  "max_deposit_period": "30s",       // Down from 48 hours
  "voting_period": "30s",            // Down from 48 hours
  "expedited_voting_period": "15s"   // Down from 24 hours
}
```

### Block Parameters

```json
{
  "max_gas": "10000000"  // 10M gas per block
}
```

## Node Configuration

### Consensus Timeouts (config.toml)

All consensus timeouts are optimized for fast block production:

| Parameter | Default | Local Node | Purpose |
|-----------|---------|------------|---------|
| `timeout_propose` | 3s | **2s** | Block proposal timeout |
| `timeout_propose_delta` | 500ms | **200ms** | Proposal timeout increase per round |
| `timeout_prevote` | 1s | **500ms** | Prevote timeout |
| `timeout_prevote_delta` | 500ms | **200ms** | Prevote timeout increase per round |
| `timeout_precommit` | 1s | **500ms** | Precommit timeout |
| `timeout_precommit_delta` | 500ms | **200ms** | Precommit timeout increase per round |
| `timeout_commit` | 5s | **1s** | Time to wait after commit before starting new height |
| `timeout_broadcast_tx_commit` | 10s | **5s** | Transaction broadcast timeout |

These faster timeouts result in ~1 second block times instead of the default ~5 seconds.

### API Configuration (app.toml)

All APIs are enabled for maximum development flexibility:

```toml
[api]
enable = true        # gRPC Gateway (REST)
enabled = true       # Additional APIs

[json-rpc]
# Enabled APIs: eth, txpool, personal, net, debug, web3
```

### Metrics (config.toml & app.toml)

```toml
[instrumentation]
prometheus = true    # Enable Prometheus metrics

[telemetry]
prometheus-retention-time = "1000000000000"  # Very long retention
```

Access metrics at `http://localhost:26660/metrics` (Tendermint) and configured app ports.

## Node Startup Configuration

The node starts with these runtime parameters:

```bash
evmd start \
  --pruning nothing \                    # Keep all historical data
  --log_level info \                     # Standard logging
  --minimum-gas-prices=0atest \          # Accept zero gas price
  --evm.min-tip=0 \                      # Accept zero priority fee
  --json-rpc.api eth,txpool,personal,net,debug,web3 \
  --chain-id 9001 \
  --home ~/.evmd
```

### Available JSON-RPC APIs

| API | Purpose |
|-----|---------|
| `eth` | Standard Ethereum JSON-RPC (eth_sendTransaction, eth_call, etc.) |
| `txpool` | Transaction pool inspection |
| `personal` | Account management (personal_sign, etc.) |
| `net` | Network information |
| `debug` | Debugging methods (debug_traceTransaction, etc.) |
| `web3` | Web3 utilities |

## Use Cases

### Testing Configuration Changes

When customizing your chain, use the local node to validate changes:

```bash
# Edit genesis or config
vim ~/.evmd/config/genesis.json

# Restart with new config
./local_node.sh -y
```

### Smart Contract Development

The pre-funded accounts and fast block times make contract iteration quick:

```bash
# Start node
./local_node.sh

# In another terminal, deploy with Hardhat/Foundry
npx hardhat run scripts/deploy.js --network localhost
```

### Integration Testing

Create multiple test accounts for complex scenarios:

```bash
# Create 20 test accounts
./local_node.sh -y --additional-users 16

# Accounts dev0-dev19 are now available
```

### Debugging Chain Issues

Use debug builds and enabled debug APIs:

```bash
# Start with debugging enabled
./local_node.sh -y --remote-debugging

# Use debug RPC methods
curl -X POST --data '{"jsonrpc":"2.0","method":"debug_traceTransaction","params":["0x..."],"id":1}' http://localhost:8545
```

### Rapid Prototyping

Skip rebuilding when testing application changes:

```bash
# First run - builds and starts
./local_node.sh

# Stop node, make app changes, restart without rebuilding
./local_node.sh --no-install
```

## Advanced Configuration

### Custom Chain ID

Override the default chain ID:

```bash
export CHAIN_ID=1234
./local_node.sh
```

### Custom Home Directory

```bash
export CHAINDIR="$HOME/my-test-chain"
./local_node.sh
```

### Validator Configuration

The validator account is created with:
- Key name: `mykey`
- Funded with: `100000000000000000000000000atest` (100M TEST)
- Self-delegation: `1000000000000000000000atest` (1000 TEST)
- Mnemonic: `gesture inject test cycle original hollow...` (see script)

## Connecting to the Local Node

### JSON-RPC Endpoint

```
http://localhost:8545
```

Configure your tools to use this endpoint:

<CodeGroup>
```javascript MetaMask
Network Name: Local EVM
RPC URL: http://localhost:8545
Chain ID: 9001
Currency Symbol: TEST
```

```javascript Hardhat (hardhat.config.js)
module.exports = {
  networks: {
    local: {
      url: "http://localhost:8545",
      accounts: [
        "0x88cbead91aee890d27bf06e003ade3d4e952427e88f88d31d61d3ef5e5d54305"  // dev0
      ]
    }
  }
}
```

```bash Foundry
forge create --rpc-url http://localhost:8545 \
  --private-key 0x88cbead91aee890d27bf06e003ade3d4e952427e88f88d31d61d3ef5e5d54305 \
  src/MyContract.sol:MyContract
```
</CodeGroup>

### gRPC Endpoint

```
localhost:9090
```

### REST API

```
http://localhost:1317
```

### WebSocket

```
ws://localhost:8546
```

## Troubleshooting

### "jq not installed"

Install jq for your platform:
- macOS: `brew install jq`
- Ubuntu/Debian: `sudo apt-get install jq`
- CentOS/RHEL: `sudo yum install jq`

### "Address already in use"

Another node or service is using the ports. Either:
1. Stop the conflicting service
2. Change the ports in `~/.evmd/config/app.toml` and `config.toml`

### "Failed to capture mnemonic"

When using `--additional-users`, if mnemonic generation fails:
1. Check `evmd keys add` works manually
2. Ensure sufficient disk space
3. Verify keyring backend is accessible

### Node Won't Start

Check the logs for errors:
```bash
# View most recent logs
tail -f ~/.evmd/evmd.log

# Or run with verbose logging
LOG_LEVEL=debug ./local_node.sh
```

### Genesis Validation Failed

If genesis validation fails:
1. Delete the chain directory: `rm -rf ~/.evmd`
2. Ensure you're using the correct evmd version
3. Check for jq installation issues

## Security Considerations

<Warning>
The local node setup is **NOT SECURE** and should **NEVER** be used in production or on public networks.
</Warning>

Key security concerns:
- Test keyring backend stores keys unencrypted
- Well-known development mnemonics are public
- All APIs are enabled without authentication
- Zero gas prices accepted
- Fast consensus timeouts compromise security
- No pruning means disk usage grows quickly

For production deployments, see the [Chain Deployment Guide](/docs/evm/next/documentation/getting-started/build-a-chain/building-your-chain-guide).

## Next Steps

<CardGroup cols={2}>
  <Card title="Build Your Chain" icon="hammer" href="/docs/evm/next/documentation/getting-started/build-a-chain/overview">
    Customize and deploy your own chain
  </Card>
  <Card title="Smart Contract Development" icon="code" href="/docs/evm/next/documentation/getting-started/tooling-and-resources/hardhat">
    Deploy contracts to your local node
  </Card>
  <Card title="Node Configuration" icon="gear" href="/docs/evm/next/documentation/getting-started/node-configuration">
    Advanced node configuration options
  </Card>
  <Card title="Testing Tools" icon="flask" href="/docs/evm/next/documentation/getting-started/tooling-and-resources/testing-and-fuzzing">
    Test your applications thoroughly
  </Card>
</CardGroup>
