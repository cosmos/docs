---
title: "Guided Setup: Config to Launch"
description: "Configure your chain step by step - complete with code references, examples and explanations."
---

## Pre-Genesis Setup

<Warning>
These parameters must be set **before** running `evmd init`. They cannot be changed after genesis without a hard fork.
</Warning>



**What This Does**: Renames your blockchain binary and updates all Go import paths to match your project.

**Files to Modify**:
- Directory: `evmd/` → `yourchain/`
- All `*.go` files with import paths
- `go.mod` module declaration
- `Makefile` (if it references evmd)

**Commands**:

```bash expandable
# 1. Rename directory
mv evmd yourchain

# 2. Update all Go imports
find . -type f -name "*.go" -exec sed -i '' \
  's|github.com/cosmos/evm/evmd|github.com/your-org/your-chain/yourchain|g' {} \;

# 3. Update go.mod
# Edit go.mod manually and change:
# module github.com/cosmos/evm
# to:
# module github.com/your-org/your-chain

# 4. Update Makefile
sed -i '' 's/evmd/yourchain/g' Makefile

# 5. Run go mod tidy
go mod tidy

# 6. Verify build works
make build
```

**Verification**:
```bash expandable
./build/yourchain version
```



**What This Does**: Defines your chain's address format (e.g., `cosmos1...`, `evmos1...`, `yourchain1...`)

**File**: `config/config.go:62`

**Default**:
```go expandable
const (
    Bech32Prefix = "cosmos"
)
```

**How to Change**:

```go expandable
const (
    // Bech32Prefix defines the Bech32 prefix for your chain
    Bech32Prefix = "yourchain"
    // Bech32PrefixAccAddr defines account addresses
    Bech32PrefixAccAddr = Bech32Prefix
    // Bech32PrefixAccPub defines account public keys
    Bech32PrefixAccPub = Bech32Prefix + sdk.PrefixPublic
    // Bech32PrefixValAddr defines validator operator addresses
    Bech32PrefixValAddr = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixOperator
    // Bech32PrefixValPub defines validator operator public keys
    Bech32PrefixValPub = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixOperator + sdk.PrefixPublic
    // Bech32PrefixConsAddr defines consensus node addresses
    Bech32PrefixConsAddr = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixConsensus
    // Bech32PrefixConsPub defines consensus node public keys
    Bech32PrefixConsPub = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixConsensus + sdk.PrefixPublic
)
```

**Result**: Your addresses will look like `yourchain1abc123...`

**Source**: [config/config.go:60-74](https://github.com/cosmos/evm/blob/main/config/config.go#L60-L74)



**What This Does**: Sets the HD wallet derivation path for key generation

**File**: `crypto/hd/hdpath.go:9`

**Default**:
```go expandable
var (
    // Bip44CoinType satisfies EIP84
    Bip44CoinType uint32 = 60  // Ethereum compatibility
)
```

**Options**:
- Use `60` for Ethereum compatibility (recommended for EVM chains)
- Register unique value at [SLIP-0044](https://github.com/satoshilabs/slips/blob/master/slip-0044.md)

**How to Change**:

```go expandable
var (
    // Bip44CoinType for your chain
    Bip44CoinType uint32 = 60  // or your registered coin type

    // BIP44HDPath is the default BIP44 HD path
    BIP44HDPath = ethaccounts.DefaultBaseDerivationPath.String()
)
```

**Derivation Path**: `m/44'/60'/0'/0/0` (if using 60)

**Source**: [crypto/hd/hdpath.go:7-13](https://github.com/cosmos/evm/blob/main/crypto/hd/hdpath.go#L7-L13)



**What This Does**: Determines whether your native token uses 18 decimals (like ETH) or 6 decimals (like ATOM)

**Recommendation**: Use 18 decimals for simplicity

### Option 1: 18 Decimals (Recommended)

**Advantages**:
- Native EVM compatibility
- No additional modules required
- Simpler setup
- Standard for EVM chains

**Configuration**:
- Base denom: `atoken` (atto-token, 10^-18)
- Display denom: `token`
- Exponent: 18
- **No PreciseBank module needed**

**Example**: 1 token = 1,000,000,000,000,000,000 atoken

### Option 2: 6 Decimals or Other

**Advantages**:
- Cosmos SDK standard
- Familiar to Cosmos users

**Requirements**:
- Base denom: `utoken` (micro-token, 10^-6)
- Display denom: `token`
- Exponent: 6
- Requires PreciseBank module integration
- Requires `extended_denom_options` configuration in VM params

**Additional Setup Required**:

1. Add PreciseBank module to `app.go`
2. Configure fractional balance tracking
3. Set `extended_denom` in genesis

**Example**: 1 token = 1,000,000 utoken

### Integration Steps for Non-18 Decimals

<Note>
Only required if using 6 decimals or other non-18 decimal precision
</Note>

**1. Update app.go** to include PreciseBank module

**2. Configure extended_denom_options** in genesis:
```json expandable
{
  "app_state": {
    "evm": {
      "params": {
        "evm_denom": "utoken",
        "extended_denom_options": {
          "extended_denom": "atoken"
        }
      }
    }
  }
}
```



**What This Does**: Sets the EIP-155 chain ID for Ethereum transaction replay protection

**Type**: Number (uint64)

**Default**: `262144`

**File**: `config/config.go:78`

**Default Code**:
```go expandable
const (
    // EVMChainID defines the EIP-155 replay-protection chain id
    EVMChainID = 262144
)
```

**How to Change**:

```go expandable
const (
    // EVMChainID defines the EIP-155 replay-protection chain id
    EVMChainID = 123456  // Your unique chain ID
)
```

**How to Choose**:
1. Visit [chainlist.org](https://chainlist.org) to register a unique ID
2. Avoid conflicts with existing chains
3. Common ranges:
   - 1-999: Reserved for major networks
   - 1000-99999: Public chains
   - 100000+: Private/test networks

**When This is Used**:
- During `evmd init`: Value is written to `~/.evmd/config/app.toml` as `evm-chain-id`
- During node startup: Read from app.toml to initialize EVM encoding

**Notes**:
- Must be set before running `evmd init`
- Cannot be changed after genesis
- Changing breaks all transaction signatures
- Must rebuild binary after changing

**Verification After Init**:
```bash expandable
grep 'evm-chain-id' ~/.yourchain/config/app.toml
```

**Source**: [config/config.go:77-78](https://github.com/cosmos/evm/blob/main/config/config.go#L77-L78)



**What This Does**: Changes hardcoded default token denominations in the source code so that generated configuration files use your chosen token denomination instead of "aatom"/"atom".

<Warning>
This step must be completed before running `evmd init` and before building the binary. The default denominations are compiled into the binary and cannot be changed after initialization without rebuilding.
</Warning>

**Why This is Necessary**:

Three source files contain default denomination values that are used when generating configuration files. If you skip this step, your `app.toml` will contain `minimum-gas-prices = "0aatom"` instead of your intended denomination.

**Files to Modify**:

**1. Configuration Template** (`/server/config/migration/v0.50-app.toml:11`)

**Default**:
```toml expandable
minimum-gas-prices = "0aatom"
```

**Change to** (example using "atoken"):
```toml expandable
minimum-gas-prices = "0atoken"
```

**2. EVM Module Defaults** (`/x/vm/types/params.go:21-25`)

**Default**:
```go expandable
var (
    DefaultEVMDenom = "uatom"
    DefaultEVMExtendedDenom = "aatom"
    DefaultEVMDisplayDenom = "atom"
)
```

**Change to**:
```go expandable
var (
    DefaultEVMDenom = "atoken"          // Base EVM denomination
    DefaultEVMExtendedDenom = "atoken"  // Extended denomination (if using PreciseBank)
    DefaultEVMDisplayDenom = "token"    // Human-readable display name
)
```

**3. Example Chain Constants** (`/config/constants.go:5-8`)

**Default**:
```go expandable
const (
    ExampleChainDenom = "aatom"
    ExampleDisplayDenom = "atom"
)
```

**Change to**:
```go expandable
const (
    ExampleChainDenom = "atoken"      // Your base denomination
    ExampleDisplayDenom = "token"     // Your display denomination
)
```

**Quick Setup Commands**:

```bash expandable
# 1. Edit configuration template
sed -i '' 's/minimum-gas-prices = "0aatom"/minimum-gas-prices = "0atoken"/' \
  server/config/migration/v0.50-app.toml

# 2. Edit EVM module defaults (manual edit recommended)
# Open x/vm/types/params.go and change lines 21-25 to use "atoken" and "token"

# 3. Edit example constants (manual edit recommended)
# Open config/constants.go and change lines 5-8 to use "atoken" and "token"

# 4. Verify changes
grep "minimum-gas-prices" server/config/migration/v0.50-app.toml
grep "DefaultEVM" x/vm/types/params.go
grep "ExampleChain" config/constants.go

# 5. Rebuild binary to apply changes
make build
```

**Verification After Build and Init**:

```bash expandable
# Initialize node
./build/yourchain init testnode --chain-id mychain-1 --home /tmp/test-home

# Verify correct denomination in generated app.toml
grep "minimum-gas-prices" /tmp/test-home/config/app.toml
# Should output: minimum-gas-prices = "0atoken"
```

**Token Denomination Guidelines**:

For **18-decimal tokens** (recommended for EVM chains):
- Base denom: `atoken` (atto-token, 10^-18)
- Display denom: `token`
- Example: 1 token = 1,000,000,000,000,000,000 atoken

For **6-decimal tokens** (Cosmos SDK standard):
- Base denom: `utoken` (micro-token, 10^-6)
- Display denom: `token`
- Note: Also requires PreciseBank module integration

**Common Prefixes**:
- `a` prefix: atto (10^-18) - Use with 18-decimal tokens
- `u` prefix: micro (10^-6) - Use with 6-decimal tokens

**Source References**:
- [server/config/migration/v0.50-app.toml:11](https://github.com/cosmos/evm/blob/main/server/config/migration/v0.50-app.toml#L11)
- [x/vm/types/params.go:21-25](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L21-L25)
- [config/constants.go:5-8](https://github.com/cosmos/evm/blob/main/config/constants.go#L5-L8)



## Genesis Configuration

Run `evmd init <moniker> --chain-id <chain-id>` then edit `~/.evmd/config/genesis.json`:


### Chain Identity


**What This Does**: Sets the unique string identifier for your blockchain in the Cosmos ecosystem

**Format**: `{name}-{version}` (e.g., `mychain-1`, `testnet-3`)

**Set During Init**:
```bash expandable
yourchain init mynode --chain-id mychain-1
```

**Or Modify After Init**:
```bash expandable
jq '.chain_id = "mychain-1"' ~/.yourchain/config/genesis.json > tmp && mv tmp genesis.json
```

**Genesis Location**: Root level field `chain_id`

**Examples**:
- Mainnet: `mychain-1` (increment for major upgrades: `mychain-2`, `mychain-3`)
- Testnet: `mychain-testnet-1`
- Devnet: `mychain-dev-1`

**Notes**: Can be any string, but `{name}-{number}` format is canonical for IBC client upgrades



**What This Does**: UTC timestamp when chain starts producing blocks

**Format**: RFC3339 UTC (e.g., `"2024-10-15T00:00:00Z"`)

**Genesis Location**: Root level field `genesis_time`

**Manual Configuration**:
```bash expandable
jq '.genesis_time = "2024-12-01T00:00:00Z"' genesis.json > tmp && mv tmp genesis.json
```

**How It Works**:
- All validators must use identical genesis file with same time
- Chain starts producing blocks automatically at this time
- Validators should start their nodes before genesis time
- Network waits until genesis_time to begin consensus

**Coordination**:
1. Choose future time (allow validators to prepare)
2. Communicate to all validators
3. Ensure all validators use identical genesis file
4. Validators start nodes and wait for genesis time


### Token Configuration


**What This Does**: Defines your token's base denomination, decimal precision, and display properties

**Genesis Path**: `app_state.bank.denom_metadata`

**For 18-Decimal Token** (Recommended):

```bash expandable
jq '.app_state.bank.denom_metadata=[{
  "description": "The native staking and gas token",
  "denom_units": [
    {
      "denom": "atoken",
      "exponent": 0,
      "aliases": ["attotoken"]
    },
    {
      "denom": "token",
      "exponent": 18,
      "aliases": []
    }
  ],
  "base": "atoken",
  "display": "token",
  "name": "My Token",
  "symbol": "TKN",
  "uri": "",
  "uri_hash": ""
}]' genesis.json > tmp && mv tmp genesis.json
```

**For 6-Decimal Token**:

```bash expandable
jq '.app_state.bank.denom_metadata=[{
  "description": "The native staking and gas token",
  "denom_units": [
    {
      "denom": "utoken",
      "exponent": 0,
      "aliases": ["microtoken"]
    },
    {
      "denom": "token",
      "exponent": 6,
      "aliases": []
    }
  ],
  "base": "utoken",
  "display": "token",
  "name": "My Token",
  "symbol": "TKN"
}]' genesis.json > tmp && mv tmp genesis.json
```

**Fields Explained**:
- `base`: Smallest unit stored on-chain (e.g., `atoken`, `utoken`)
- `display`: Human-readable unit (e.g., `token`)
- `exponent`: Decimal places (18 or 6)
- `name`: Full token name
- `symbol`: Ticker symbol

**Notes**: The `base` denom must match:
- `app_state.evm.params.evm_denom`
- `app_state.staking.params.bond_denom`
- `app_state.mint.params.mint_denom`
- `app_state.gov.params.min_deposit[0].denom`



**What This Does**: Specifies which bank denomination is the native EVM gas token

**Genesis Path**: `app_state.evm.params.evm_denom`

**Default**: `"uatom"`

**Type**: String

**Configuration**:

```bash expandable
jq '.app_state.evm.params.evm_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json expandable
{
  "app_state": {
    "evm": {
      "params": {
        "evm_denom": "atoken"
      }
    }
  }
}
```

**Notes**: Must match `app_state.bank.denom_metadata[0].base`

**Source**: [x/vm/types/params.go:21](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L21)



**When Required**: Only for 6-decimal or other non-18-decimal chains

**What This Does**: Provides 18-decimal representation for EVM compatibility when using non-18 decimal native token

**Genesis Path**: `app_state.evm.params.extended_denom_options`

**Configuration for 6-Decimal Chain**:

```bash expandable
jq '.app_state.evm.params.extended_denom_options = {
  "extended_denom": "atoken"
}' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json expandable
{
  "app_state": {
    "evm": {
      "params": {
        "evm_denom": "utoken",
        "extended_denom_options": {
          "extended_denom": "atoken"
        }
      }
    }
  }
}
```

**How It Works**:
- Your base denom: `utoken` (6 decimals)
- EVM sees: `atoken` (18 decimals)
- PreciseBank handles conversion

**Notes**:
- Must also integrate PreciseBank module in `app.go`
- Not needed if using 18 decimals (standard EVM setup)

**Source**: [x/vm/types/params.go:76](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L76)


### VM Module


**What This Does**: Enables precompiled contracts that provide access to Cosmos modules from EVM

**Genesis Path**: `app_state.evm.params.active_static_precompiles`

**Type**: Array of hex addresses

**Default**: `[]` (empty - no precompiles enabled)

**Available Precompiles**:

| Address | Name | Purpose |
||||
| `0x0100` | P256 | Cryptographic operations for Web3 auth |
| `0x0400` | Bech32 | Cosmos ↔ Ethereum address conversion |
| `0x0800` | Staking | Validator staking operations |
| `0x0801` | Distribution | Reward distribution and claiming |
| `0x0802` | ICS20 | IBC token transfers |
| `0x0803` | Vesting | Token vesting operations |
| `0x0804` | Bank | Bank module operations |
| `0x0805` | Governance | Submit/vote on proposals |
| `0x0806` | Slashing | Slashing queries |
| `0x0807` | Authz | Authorization grants |

**Enable All Precompiles**:

```bash expandable
jq '.app_state.evm.params.active_static_precompiles = [
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800",
  "0x0000000000000000000000000000000000000801",
  "0x0000000000000000000000000000000000000802",
  "0x0000000000000000000000000000000000000803",
  "0x0000000000000000000000000000000000000804",
  "0x0000000000000000000000000000000000000805",
  "0x0000000000000000000000000000000000000806",
  "0x0000000000000000000000000000000000000807"
]' genesis.json > tmp && mv tmp genesis.json
```

**Enable Selective Precompiles** (example):

```bash expandable
jq '.app_state.evm.params.active_static_precompiles = [
  "0x0000000000000000000000000000000000000100",  # P256
  "0x0000000000000000000000000000000000000400",  # Bech32
  "0x0000000000000000000000000000000000000800"   # Staking
]' genesis.json > tmp && mv tmp genesis.json
```

**Notes**: Array must be sorted for determinism

**Source**: [x/vm/types/precompiles.go:22-32](https://github.com/cosmos/evm/blob/main/x/vm/types/precompiles.go#L22-L32)



**What This Does**: Deploys essential smart contracts at genesis to standard addresses

**Genesis Path**: `app_state.evm.preinstalls`

**Available Predeployed Contracts**:

1. **CREATE2 Deployer** (`0x4e59b44847b379578588920cA78FbF26c0B4956C`)
   - Deterministic contract deployment
   - Same address across EVM chains

2. **Multicall3** (`0xcA11bde05977b3631167028862bE2a173976CA11`)
   - Batch multiple read calls
   - Gas efficient queries

3. **Permit2** (`0x000000000022D473030F116dDEE9F6B43aC78BA3`)
   - Uniswap's token approval system
   - Required for Uniswap V4

4. **Safe Factory** (`0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67`)
   - Gnosis Safe multisig deployment
   - Account abstraction support

**Configuration** (all contracts):

Genesis is automatically populated during `evmd init`. These contracts are hardcoded into the codebase.

**No manual configuration needed** unless you want to disable specific contracts.

**Verification After Init**:
```bash expandable
jq '.app_state.evm.preinstalls' ~/.yourchain/config/genesis.json
```



**What This Does**: Sets permissions for deploying and calling smart contracts

**Genesis Path**: `app_state.evm.params.access_control`

**Type**: Object with `create` and `call` fields

**Access Types**:
- `0` = Permissionless - Anyone can perform action
- `1` = Restricted - Block addresses in list (blocklist)
- `2` = Permissioned - Only addresses in list (allowlist)

**Default: Fully Permissionless**

```json expandable
{
  "access_control": {
    "create": {
      "access_type": 0,
      "access_control_list": []
    },
    "call": {
      "access_type": 0,
      "access_control_list": []
    }
  }
}
```

**Example: Permissioned Deployment** (only specific addresses can deploy):

```bash expandable
jq '.app_state.evm.params.access_control = {
  "create": {
    "access_type": 2,
    "access_control_list": [
      "0x1234567890123456789012345678901234567890",
      "0xabcdefabcdefabcdefabcdefabcdefabcdefabcd"
    ]
  },
  "call": {
    "access_type": 0,
    "access_control_list": []
  }
}' genesis.json > tmp && mv tmp genesis.json
```

**Example: Restricted Deployment** (block specific addresses):

```bash expandable
jq '.app_state.evm.params.access_control.create = {
  "access_type": 1,
  "access_control_list": [
    "0xBADADDRESS1234567890123456789012345678"
  ]
}' genesis.json > tmp && mv tmp genesis.json
```

**Use Cases**:
- Permissionless: Public mainnet (recommended)
- Permissioned: Private/consortium chain
- Restricted: Block known malicious addresses

**Source**: [x/vm/types/params.go:160-165](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L160-L165)



**What This Does**: Enables additional Ethereum Improvement Proposals not in default config

**Genesis Path**: `app_state.evm.params.extra_eips`

**Type**: Array of EIP numbers (int64)

**Default**: `[]` (empty)

**When to Use**: If you need specific EIP features not yet in the default EVM configuration

**Example**:

```bash expandable
jq '.app_state.evm.params.extra_eips = [1153, 3855]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json expandable
{
  "app_state": {
    "evm": {
      "params": {
        "extra_eips": [1153, 3855]
      }
    }
  }
}
```

**Notes**:
- EIPs must be activatable - invalid EIPs will cause validation to fail
- Most common use case: Leave empty and use defaults

**Source**: [x/vm/types/params.go:33](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L33)



**What This Does**: Controls how far back historical state queries can go

**Genesis Path**: `app_state.evm.params.history_serve_window`

**Type**: uint64 (number of blocks)

**Default**: `8192` (same as EIP-2935)

**Configuration**:

```bash expandable
jq '.app_state.evm.params.history_serve_window = 8192' genesis.json > tmp && mv tmp genesis.json
```

**Values**:
- `0` = Unlimited (keep all historical state forever)
- `8192` = Keep last ~18 hours (at 8s blocks)
- `86400` = Keep last ~8 days

**Trade-offs**:
- Higher values: More disk space, can query older state
- Lower values: Less disk space, limited historical queries
- `0`: Maximum compatibility, growing disk usage

**Recommendation**: Use default `8192` unless you need specific historical data retention

**Source**: [x/vm/types/params.go:50](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L50)


### ERC20 Module


**What This Does**: Creates ERC20 representation of your native token for EVM compatibility

**Genesis Path**: `app_state.erc20.token_pairs`

**Special Address for Native Token**: `0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE`

**Configuration**:

```bash expandable
jq '.app_state.erc20.token_pairs = [{
  "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  "denom": "atoken",
  "enabled": true,
  "contract_owner": 1
}]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json expandable
{
  "app_state": {
    "erc20": {
      "token_pairs": [
        {
          "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
          "denom": "atoken",
          "enabled": true,
          "contract_owner": 1
        }
      ]
    }
  }
}
```

**Fields**:
- `erc20_address`: ERC20 contract address (use special address for native token)
- `denom`: Your base denomination from bank metadata
- `enabled`: Whether the pair is active
- `contract_owner`: Module ownership (1 = module-owned)

**Result**: Your native token becomes accessible as ERC20 from Solidity contracts



**What This Does**: Registers the native token's precompile address

**Genesis Path**: `app_state.erc20.native_precompiles`

**Configuration**:

```bash expandable
jq '.app_state.erc20.native_precompiles = ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json expandable
{
  "app_state": {
    "erc20": {
      "native_precompiles": ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"]
    }
  }
}
```

**Notes**: Must match the `erc20_address` in `token_pairs`



**What This Does**: Controls whether anyone can register new token pairs or only governance

**Genesis Path**: `app_state.erc20.params.permissionless_registration`

**Type**: Boolean

**Default**: `true` (anyone can register)

**Permissionless (Default)**:

```bash expandable
jq '.app_state.erc20.params.permissionless_registration = true' genesis.json > tmp && mv tmp genesis.json
```

**Permissioned (Governance Only)**:

```bash expandable
jq '.app_state.erc20.params.permissionless_registration = false' genesis.json > tmp && mv tmp genesis.json
```

**When to Use Each**:
- `true`: Public mainnet, DeFi-focused chain
- `false`: Private chain, enterprise use case

**Source**: [x/erc20/types/params.go:27](https://github.com/cosmos/evm/blob/main/x/erc20/types/params.go#L27)


### Fee Market Module


**What This Does**: Configures Ethereum's EIP-1559 dynamic fee market mechanism

**Genesis Path**: `app_state.feemarket.params`

**Complete Configuration**:

```bash expandable
jq '.app_state.feemarket.params = {
  "no_base_fee": false,
  "base_fee": "1000000000",
  "base_fee_change_denominator": 8,
  "elasticity_multiplier": 2,
  "min_gas_price": "0",
  "min_gas_multiplier": "0.5",
  "enable_height": 0
}' genesis.json > tmp && mv tmp genesis.json
```

**Parameters Explained**:

**1. `no_base_fee`** (bool, default: `false`)
- `false`: Enable EIP-1559 (recommended)
- `true`: Disable dynamic fees (fixed fee model)

**2. `base_fee`** (string, default: `"1000000000"` = 1 gwei)
- Initial base fee per gas in wei
- Common values:
  - `"1000000000"` = 1 gwei (Ethereum mainnet typical)
  - `"100000000"` = 0.1 gwei (cheaper L2s)
  - `"10000000000"` = 10 gwei (higher fee chains)

**3. `base_fee_change_denominator`** (uint32, default: `8`)
- Controls adjustment speed: `max_change = 1/denominator`
- `8` = ±12.5% max change per block (Ethereum standard)
- `50` = ±2% max change (slower adjustment)
- Lower = faster price adjustment

**4. `elasticity_multiplier`** (uint32, default: `2`)
- Determines gas target: `target = max_gas / elasticity`
- `2` = target is 50% of max gas
- Block above target → base fee increases
- Block below target → base fee decreases

**5. `min_gas_price`** (string, default: `"0"`)
- Network-wide minimum gas price floor in wei
- `"0"` = no floor
- Example: `"500000000"` = 0.5 gwei minimum

**6. `min_gas_multiplier`** (string, default: `"0.5"`)
- Fraction of base fee that constitutes minimum
- Must be between 0 and 1
- `"0.5"` = 50% of base fee

**7. `enable_height`** (int64, default: `0`)
- Block height to activate EIP-1559
- `0` = enabled from genesis
- `> 0` = activate at specific height

**Configuration Examples**:

**Standard EIP-1559 (Recommended)**:
```json expandable
{
  "no_base_fee": false,
  "base_fee": "1000000000",
  "base_fee_change_denominator": 8,
  "elasticity_multiplier": 2,
  "min_gas_price": "0",
  "min_gas_multiplier": "0.5"
}
```

**Fixed Fee (Disabled EIP-1559)**:
```json expandable
{
  "no_base_fee": true,
  "min_gas_price": "1000000000"
}
```

**Low-Fee L2**:
```json expandable
{
  "no_base_fee": false,
  "base_fee": "100000000",
  "min_gas_price": "100000000"
}
```

**Source**: [x/feemarket/types/params.go:13-21](https://github.com/cosmos/evm/blob/main/x/feemarket/types/params.go#L13-L21)


### Standard Cosmos Modules


**Genesis Path**: `app_state.staking.params`

**Set Bond Denom**:

```bash expandable
jq '.app_state.staking.params.bond_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Set Unbonding Time**:

The unbonding period is how long tokens remain locked after a user initiates unstaking. During this time, validators remain accountable and can be slashed for misbehavior that occurred while bonded.

**Set Custom Unbonding Time**:
```bash expandable
jq '.app_state.staking.params.unbonding_time = "1814400s"' genesis.json > tmp && mv tmp genesis.json
```

**Example Values**:
- `"120s"` = 2 minutes
- `"86400s"` = 1 day
- `"604800s"` = 7 days
- `"1814400s"` = 21 days (Cosmos standard)
- `"2419200s"` = 28 days

**Set Max Validators**:

```bash expandable
jq '.app_state.staking.params.max_validators = 100' genesis.json > tmp && mv tmp genesis.json
```

**Complete Configuration**:

```json expandable
{
  "app_state": {
    "staking": {
      "params": {
        "bond_denom": "atoken",
        "unbonding_time": "1814400s",
        "max_validators": 100,
        "max_entries": 7,
        "historical_entries": 10000,
        "min_commission_rate": "0.000000000000000000"
      }
    }
  }
}
```

**Parameters Explained**:

**1. `bond_denom`** (string)
- Must match your base denomination from bank metadata
- Example: `"atoken"`

**2. `unbonding_time`** (duration string)
- Time tokens remain locked after unstaking is initiated
- During this period, tokens can still be slashed for validator misbehavior
- Format: Go duration string (e.g., `"1814400s"`)
- **Security vs Usability**: Longer periods increase security but reduce user flexibility

**3. `max_validators`** (uint32)
- Maximum number of validators in the active set
- Only top N validators by voting power participate in consensus
- Common values: 50, 100, 125, 150, 175
- Higher = more decentralized but potentially slower consensus

**4. `max_entries`** (uint32)
- Maximum concurrent unbonding/redelegation operations per delegator-validator pair
- Default: 7
- Prevents spam attacks on the unbonding queue

**5. `historical_entries`** (uint32)
- Number of historical validator set entries to keep
- Used for IBC light client verification
- Default: 10000
- Higher = more storage but better IBC compatibility

**6. `min_commission_rate`** (decimal string)
- Minimum commission rate validators must charge
- Default: `"0.000000000000000000"` (0%)
- Example: `"0.050000000000000000"` = 5% minimum commission



**What This Does**: Configures penalties for validator misbehavior including downtime and double-signing

**Genesis Path**: `app_state.slashing.params`

**Complete Configuration**:

```json expandable
{
  "app_state": {
    "slashing": {
      "params": {
        "signed_blocks_window": "100",
        "min_signed_per_window": "0.500000000000000000",
        "downtime_jail_duration": "600s",
        "slash_fraction_double_sign": "0.050000000000000000",
        "slash_fraction_downtime": "0.010000000000000000"
      }
    }
  }
}
```

**Set Slashing Parameters**:

```bash expandable
# Downtime detection window
jq '.app_state.slashing.params.signed_blocks_window = "10000"' genesis.json > tmp && mv tmp genesis.json

# Minimum signing fraction
jq '.app_state.slashing.params.min_signed_per_window = "0.500000000000000000"' genesis.json > tmp && mv tmp genesis.json

# Jail duration for downtime
jq '.app_state.slashing.params.downtime_jail_duration = "600s"' genesis.json > tmp && mv tmp genesis.json

# Double-sign penalty
jq '.app_state.slashing.params.slash_fraction_double_sign = "0.050000000000000000"' genesis.json > tmp && mv tmp genesis.json

# Downtime penalty
jq '.app_state.slashing.params.slash_fraction_downtime = "0.010000000000000000"' genesis.json > tmp && mv tmp genesis.json
```

**Parameters Explained**:

**1. `signed_blocks_window`** (int64)
- Number of blocks used to track validator liveness
- Validators must sign `min_signed_per_window` within this window or get jailed
- Example values:
  - `100` = ~13 minutes at 8s blocks
  - `10000` = ~22 hours at 8s blocks (Cosmos standard)
  - `20000` = ~44 hours at 8s blocks

**2. `min_signed_per_window`** (decimal string)
- Minimum fraction of blocks a validator must sign
- Default: `"0.500000000000000000"` (50%)
- Example: With `signed_blocks_window = 10000`, validator must sign at least 5000 blocks
- Lower values = more lenient, higher = stricter

**3. `downtime_jail_duration`** (duration string)
- How long a validator is jailed for downtime
- Jailed validators must manually unjail and cannot earn rewards
- Example values:
  - `"60s"` = 1 minute
  - `"600s"` = 10 minutes (Cosmos standard)
  - `"3600s"` = 1 hour
  - `"86400s"` = 1 day

**4. `slash_fraction_double_sign`** (decimal string)
- Percentage of staked tokens slashed for double-signing
- Validator is also permanently tombstoned (cannot rejoin)
- Example values:
  - `"0.000000000000000000"` = 0% (no penalty)
  - `"0.050000000000000000"` = 5% (Cosmos standard)
  - `"0.100000000000000000"` = 10%
  - `"0.200000000000000000"` = 20%

**5. `slash_fraction_downtime`** (decimal string)
- Percentage of staked tokens slashed for downtime
- Less severe than double-signing
- Example values:
  - `"0.000000000000000000"` = 0% (no penalty)
  - `"0.000100000000000000"` = 0.01%
  - `"0.010000000000000000"` = 1% (Cosmos standard)
  - `"0.050000000000000000"` = 5%

**How Slashing Works**:

1. **Downtime Detection**:
   - Chain tracks last `signed_blocks_window` blocks
   - If validator signs < `min_signed_per_window` fraction → jailed
   - Validator loses `slash_fraction_downtime` of stake
   - Must wait `downtime_jail_duration` then manually unjail

2. **Double-Sign Detection**:
   - If validator signs two different blocks at same height → slashed
   - Loses `slash_fraction_double_sign` of stake
   - Permanently tombstoned - cannot ever rejoin as validator

3. **Relationship with Unbonding**:
   - Tokens remain slashable during entire `unbonding_time` period
   - Validators remain accountable for misbehavior that occurred while bonded



**Genesis Path**: `app_state.gov.params`

**Set Min Deposit Denom**:

```bash expandable
jq '.app_state.gov.params.min_deposit[0].denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Set Voting Periods**:

<Info>
The `expedited_voting_period` must be strictly less than `voting_period`. If you change `voting_period`, also adjust `expedited_voting_period` accordingly.
</Info>

```bash expandable
# Set voting period
jq '.app_state.gov.params.voting_period = "172800s"' genesis.json > tmp && mv tmp genesis.json

# Set expedited voting period (must be < voting_period)
jq '.app_state.gov.params.expedited_voting_period = "86400s"' genesis.json > tmp && mv tmp genesis.json
```

**Example Voting Period Values**:
- `"30s"` = 30 seconds (requires `expedited_voting_period` < 30s, e.g., "15s")
- `"3600s"` = 1 hour
- `"86400s"` = 1 day
- `"172800s"` = 2 days (Cosmos standard)
- `"604800s"` = 7 days

**Rule**: `expedited_voting_period < voting_period`

**Complete Configuration**:

```json expandable
{
  "app_state": {
    "gov": {
      "params": {
        "min_deposit": [
          {
            "denom": "atoken",
            "amount": "10000000000000000000"
          }
        ],
        "max_deposit_period": "172800s",
        "voting_period": "172800s",
        "expedited_voting_period": "86400s",
        "quorum": "0.334",
        "threshold": "0.5",
        "veto_threshold": "0.334"
      }
    }
  }
}
```

**Parameters**:
- `min_deposit`: Minimum deposit to submit proposal
- `max_deposit_period`: `"172800s"` = 2 days (Cosmos standard)
- `voting_period`: `"172800s"` = 2 days (Cosmos standard)
- `expedited_voting_period`: `"86400s"` = 1 day (must be < `voting_period`)
- `quorum`: Minimum participation (`"0.334"` = 33.4%)
- `threshold`: Minimum yes votes (`"0.5"` = 50%)
- `veto_threshold`: Veto threshold (`"0.334"` = 33.4%)



**Genesis Path**: `app_state.mint.params`

**Set Mint Denom**:

```bash expandable
jq '.app_state.mint.params.mint_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Complete Configuration**:

```json expandable
{
  "app_state": {
    "mint": {
      "params": {
        "mint_denom": "atoken",
        "inflation_rate_change": "0.130000000000000000",
        "inflation_max": "0.200000000000000000",
        "inflation_min": "0.070000000000000000",
        "goal_bonded": "0.670000000000000000",
        "blocks_per_year": "6311520"
      }
    }
  }
}
```

**Parameters**:
- `mint_denom`: Must match your base denomination
- `inflation_max`: Maximum annual inflation (20%)
- `inflation_min`: Minimum annual inflation (7%)
- `goal_bonded`: Target bonded token ratio (67%)
- `blocks_per_year`: Expected blocks per year



**Genesis Path**: `app_state.distribution.params`

**Configuration**:

```json expandable
{
  "app_state": {
    "distribution": {
      "params": {
        "community_tax": "0.020000000000000000",
        "base_proposer_reward": "0.010000000000000000",
        "bonus_proposer_reward": "0.040000000000000000",
        "withdraw_addr_enabled": true
      }
    }
  }
}
```

**Parameters**:
- `community_tax`: Percentage to community pool (2%)
- `base_proposer_reward`: Base reward for block proposer (1%)
- `bonus_proposer_reward`: Bonus reward for block proposer (4%)
- `withdraw_addr_enabled`: Allow setting custom withdraw address


### Initial State


**What This Does**: Creates accounts with initial token balances at genesis

**Command**:

```bash expandable
yourchain genesis add-genesis-account <address-or-key-name> <amount><denom>
```

**Examples**:

```bash expandable
# Using address
yourchain genesis add-genesis-account \
  cosmos1abc123... \
  1000000000000000000000atoken

# Using key name from keyring
yourchain genesis add-genesis-account \
  validator1 \
  1000000000000000000000atoken \
  --keyring-backend test

# Multiple accounts
yourchain genesis add-genesis-account validator1 1000000000000000000000atoken
yourchain genesis add-genesis-account validator2 1000000000000000000000atoken
yourchain genesis add-genesis-account faucet 10000000000000000000000atoken
```

**Bulk Add** (using bulk command):

```bash expandable
# Create accounts file
cat > accounts.json <<EOF
[
  {
    "address": "cosmos1abc...",
    "coins": ["1000000000000000000000atoken"]
  },
  {
    "address": "cosmos1def...",
    "coins": ["1000000000000000000000atoken"]
  }
]
EOF

yourchain genesis bulk-add-genesis-account accounts.json
```

**Verify**:

```bash expandable
jq '.app_state.bank.balances' ~/.yourchain/config/genesis.json
```



**What This Does**: Gathers validator self-delegation transactions to include in genesis

**Workflow**:

**1. Each Validator Creates Their Gentx**:

```bash expandable
# On validator node
yourchain genesis gentx validator1 \
  1000000000000000000000atoken \
  --chain-id mychain-1 \
  --keyring-backend test \
  --moniker "Validator 1" \
  --commission-rate 0.1 \
  --commission-max-rate 0.2 \
  --commission-max-change-rate 0.01 \
  --min-self-delegation 1
```

**Output**: Creates `~/.yourchain/config/gentx/gentx-<node-id>.json`

**2. Validator Shares Gentx File**:

```bash expandable
# Validator sends this file to coordinator
cat ~/.yourchain/config/gentx/gentx-*.json
```

**3. Coordinator Collects All Gentxs**:

```bash expandable
# Coordinator receives all gentx files
mkdir -p ~/.yourchain/config/gentx/
# Copy all received gentx files to this directory

# Collect them into genesis
yourchain genesis collect-gentxs
```

**4. Verify Genesis**:

```bash expandable
yourchain genesis validate
jq '.app_state.genutil.gen_txs' ~/.yourchain/config/genesis.json
```

**Result**: Genesis file now contains all validator self-delegations



**Command**:

```bash expandable
yourchain genesis validate
```

**What It Checks**:
- JSON structure is valid
- All module genesis states are valid
- No denomination mismatches
- Token supply is consistent
- All parameters are within valid ranges
- Gentxs are valid

**Common Validation Errors**:

1. **Denomination Mismatch**:
```
Error: bond_denom (utoken) does not match evm_denom (atoken)
```
Fix: Ensure all denoms match across modules

2. **Invalid Supply**:
```
Error: total supply does not match balances
```
Fix: Check genesis accounts and token allocations

3. **Invalid Parameter**:
```
Error: min_gas_multiplier must be between 0 and 1
```
Fix: Correct the parameter value

**Full Verification Checklist**:

```bash expandable
# 1. Validate structure
yourchain genesis validate

# 2. Check all denoms match
jq '[
  .app_state.staking.params.bond_denom,
  .app_state.mint.params.mint_denom,
  .app_state.evm.params.evm_denom,
  .app_state.gov.params.min_deposit[0].denom,
  .app_state.bank.denom_metadata[0].base
] | unique | length' genesis.json
# Should output: 1 (all denoms are identical)

# 3. Verify total supply
jq '.app_state.bank.balances | map(.coins[0].amount | tonumber) | add' genesis.json

# 4. Check validator count
jq '.app_state.genutil.gen_txs | length' genesis.json
```



## Runtime Configuration

Edit `~/.yourchain/config/app.toml`:



**Section**: `[json-rpc]`

**Full Configuration**:

```toml expandable
[json-rpc]
# Enable JSON-RPC server
enable = true

# HTTP server address (use 127.0.0.1 for localhost only, 0.0.0.0 for public)
address = "0.0.0.0:8545"

# WebSocket server address
ws-address = "0.0.0.0:8546"

# API namespaces to enable
api = ["eth", "net", "web3", "txpool", "debug"]

# Gas cap for eth_call and eth_estimateGas
gas-cap = 25000000

# EVM execution timeout
evm-timeout = "5s"

# Transaction fee cap (in native token units)
txfee-cap = 1.0

# Maximum number of logs returned
logs-cap = 10000

# Maximum block range for queries
block-range-cap = 10000

# HTTP request timeout
http-timeout = "30s"

# HTTP idle timeout
http-idle-timeout = "2m0s"

# Allow unprotected transactions (unsigned) - ONLY FOR DEV
allow-unprotected-txs = false

# Maximum open connections (0 = unlimited)
max-open-connections = 0

# Enable indexer (for historical queries)
enable-indexer = false

# Batch request limit
batch-request-limit = 0

# Batch response max size
batch-response-max-size = 0
```

**API Namespaces**:
- `eth`: Standard Ethereum RPC (required)
- `net`: Network information
- `web3`: Web3 client version
- `txpool`: Transaction pool inspection
- `debug`: Debug/trace endpoints (use carefully in production)

**Security Recommendations**:
- Use `address = "127.0.0.1:8545"` for localhost only
- Put reverse proxy (nginx) in front for public access
- Enable rate limiting
- Use `allow-unprotected-txs = false` in production



**Section**: `[evm]`

**Configuration**:

```toml expandable
[evm]
# EVM chain ID (set during init from config/config.go - DO NOT MODIFY)
evm-chain-id = 262144

# Tracer type for debugging
tracer = "json"

# Maximum gas limit for individual transactions (0 = unlimited)
max-tx-gas-wanted = 0

# Cache preimages for historical queries
cache-preimage = false

# Minimum tip (priority fee) required
min-tip = 0
```

**Parameters**:

**1. `evm-chain-id`** (uint64) - **READ-ONLY**
- **Automatically written** during `evmd init` from `config/config.go:78`
- Value set in Pre-Genesis Setup (see above)
- Default: `262144`
- **DO NOT MODIFY** this value in app.toml - change the code constant and rebuild instead

**2. `tracer`** (string)
- Options: `"json"`, `"markdown"`, `"struct"`, `""`
- `"json"`: Best for debugging, detailed traces
- `""`: No tracing (production)

**3. `max-tx-gas-wanted`** (uint64)
- `0`: Unlimited (default)
- `30000000`: Example limit per transaction
- Protects against excessive gas usage

**4. `min-tip`** (uint64)
- Minimum priority fee in wei
- `0`: Accept all transactions
- `1000000000`: Require at least 1 gwei tip

**Notes**: The `evm-chain-id` value in app.toml is for reference only. It was set during `evmd init` from your code. To change it, you must modify `config/config.go:78` and rebuild the binary before running init.



**What This Does**: Controls transaction pool behavior including price limits, queue sizes, and lifetime.

**Section**: `[evm.mempool]` in `app.toml`

<Info>
**New in v0.5.0**: Mempool configuration is now fully exposed in `app.toml` and can be adjusted without code changes.
</Info>

**Full Configuration**:

```toml expandable
[evm.mempool]
# PriceLimit is the minimum gas price to enforce for acceptance into the pool (in wei)
price-limit = 1

# PriceBump is the minimum price bump percentage to replace an already existing transaction (nonce)
price-bump = 10

# AccountSlots is the number of executable transaction slots guaranteed per account
account-slots = 16

# GlobalSlots is the maximum number of executable transaction slots for all accounts
global-slots = 5120

# AccountQueue is the maximum number of non-executable transaction slots permitted per account
account-queue = 64

# GlobalQueue is the maximum number of non-executable transaction slots for all accounts
global-queue = 1024

# Lifetime is the maximum amount of time non-executable transaction are queued
lifetime = "3h0m0s"
```

**Parameters Explained**:

**1. `price-limit`** (uint64, wei)
- Minimum gas price to accept into mempool
- Default: `1` wei
- Example: `1000000000` = reject txs below 1 gwei

**2. `price-bump`** (uint64, percentage)
- Minimum % increase to replace existing transaction with same nonce
- Default: `10` (10%)
- Example: `20` = require 20% higher gas price

**3. `account-slots`** (uint64)
- Guaranteed executable slots per account
- Default: `16`
- Higher = more pending txs per account

**4. `global-slots`** (uint64)
- Total executable slots across all accounts
- Default: `5120` (4096 + 1024)
- Higher = larger mempool capacity

**5. `account-queue`** (uint64)
- Queued (non-executable) slots per account
- Default: `64`
- For transactions with gaps in nonce sequence

**6. `global-queue`** (uint64)
- Total queued slots across all accounts
- Default: `1024`

**7. `lifetime`** (duration)
- Maximum time transaction stays in mempool
- Default: `"3h0m0s"` (3 hours)
- Format: Go duration string (e.g., `"1h30m"`, `"30m0s"`, `"24h0m0s"`)

**Validation**: All parameters must be at least `1` (for uint64) or `1ns` (for lifetime). Invalid values will cause the node to fail validation on startup.

**Tuning Recommendations**:

**High-throughput chain**:
```toml expandable
global-slots = 10240
global-queue = 2048
price-limit = 100000000
lifetime = "6h0m0s"
```

**Low-resource node**:
```toml expandable
global-slots = 2048
global-queue = 512
lifetime = "1h0m0s"
account-slots = 8
```

**Source**: [server/config/config.go:158-187](https://github.com/cosmos/evm/blob/v0.5.0-rc.1/server/config/config.go#L158-L187)



**Configuration**:

```toml expandable
minimum-gas-prices = "1000000000atoken"
```

**Format**: `<amount><denom>`

**Examples**:
- `"1000000000atoken"` = 1 gwei
- `"500000000atoken"` = 0.5 gwei
- `"0atoken"` = accept all transactions

**How It Works**:
- Node rejects transactions with gas price below this value
- Protects against spam
- Should align with `min_gas_price` from genesis fee market config

**Per Token**:
- 18 decimals: `1000000000atoken` = 1 gwei = 0.000000001 token
- 6 decimals: `1000utoken` = 0.001 token

**Recommendation**: Set to at least the expected minimum to prevent mempool spam



**File**: `~/.yourchain/config/config.toml`

**Configuration**:

```toml expandable
# Comma separated list of nodes to keep persistent connections to
persistent_peers = "node_id@ip:port,node_id2@ip:port"
```

**Steps**:

**1. Get Node ID** from each validator:

```bash expandable
yourchain comet show-node-id
```

Output: `7c90e16cca334eb7259754f964918d879ca54996`

**2. Share Node ID and IP**:
- Node ID: `7c90e16cca334eb7259754f964918d879ca54996`
- IP: `192.168.1.100`
- Port: `26656` (default P2P port)

**3. Update config.toml**:

```bash expandable
# Edit ~/.yourchain/config/config.toml
persistent_peers = "7c90e16cca334eb7259754f964918d879ca54996@192.168.1.100:26656,abc123def456...@192.168.1.101:26656"
```

**Example with Multiple Peers**:

```toml expandable
persistent_peers = "7c90e16c@192.168.1.100:26656,abc123de@192.168.1.101:26656,def456ab@192.168.1.102:26656"
```

**Verification**:

```bash expandable
# Check connected peers
curl localhost:26657/net_info | jq '.result.peers'
```



**What This Does**: Sets the chain-id in client configuration for CLI operations and node startup validation.

**File**: `~/.yourchain/config/client.toml`

**Command**:

```bash expandable
yourchain config set client chain-id <chain-id> --home <home-dir>
```

**Example**:
```bash expandable
evmd config set client chain-id mychain-1 --home ~/.evmd
```

**Why This is Required**:

The `yourchain init` command writes the chain-id to `genesis.json` but not to `client.toml`. However, the node reads the chain-id from `client.toml` at startup (see `config/chain_id.go`). If this doesn't match the chain-id in `genesis.json`, the node will fail to start with:

```
error during handshake: error on replay: invalid chain-id on InitChain
```

**Verification**:

```bash expandable
# Verify chain-id matches genesis.json
jq '.chain_id' ~/.yourchain/config/genesis.json
# Output: "mychain-1"

# Verify chain-id is set in client.toml
grep 'chain-id' ~/.yourchain/config/client.toml
# Output: chain-id = "mychain-1"
```



## Network Launch



**Methods**:

**1. IPFS** (Recommended for large networks):

```bash expandable
# Coordinator uploads
ipfs add ~/.yourchain/config/genesis.json
# Returns: QmXyz123...

# Validators download
ipfs get QmXyz123... -o ~/.yourchain/config/genesis.json
```

**2. GitHub Release**:

```bash expandable
# Coordinator creates release with genesis.json
gh release create v1.0.0 ~/.yourchain/config/genesis.json

# Validators download
wget https://github.com/yourorg/yourchain/releases/download/v1.0.0/genesis.json \
  -O ~/.yourchain/config/genesis.json
```

**3. Secure File Sharing**:
- Use encrypted transfer
- Share via private channels
- Verify integrity with hash

**Security**: Use secure, verified channels to prevent tampering



**Command** (each validator runs):

```bash expandable
jq -S -c . ~/.yourchain/config/genesis.json | shasum -a 256
```

**Expected Output** (example):
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6  -
```

**Workflow**:

**1. Coordinator Generates Canonical Hash**:

```bash expandable
jq -S -c . ~/.yourchain/config/genesis.json | shasum -a 256 > genesis_hash.txt
cat genesis_hash.txt
```

**2. Coordinator Publishes Hash**:
- Post to official communication channel
- Include in documentation
- Sign with GPG key for verification

**3. Each Validator Verifies**:

```bash expandable
# Generate local hash
jq -S -c . ~/.yourchain/config/genesis.json | shasum -a 256

# Compare with published hash
# They must match exactly
```

**4. All Validators Confirm**:
- Report matching hash
- Proceed only when all validators confirm

**Notes**: Even one character difference means different genesis state. All validators must have identical files.



**Each Validator Shares**:

**1. Get Node ID**:

```bash expandable
yourchain comet show-node-id
```

Output: `7c90e16cca334eb7259754f964918d879ca54996`

**2. Share Information**:
- **Node ID**: `7c90e16cca334eb7259754f964918d879ca54996`
- **Public IP**: `192.168.1.100` (or domain name)
- **P2P Port**: `26656` (default)
- **Format**: `<node-id>@<ip>:<port>`

**3. Update persistent_peers**:

Each validator edits `~/.yourchain/config/config.toml`:

```toml expandable
persistent_peers = "7c90e16c@192.168.1.100:26656,abc123de@192.168.1.101:26656,def456ab@192.168.1.102:26656"
```

**Coordination Sheet** (example):

| Validator | Node ID | IP Address | P2P Connection String |
|--|||-|
| Validator 1 | 7c90e16c... | 192.168.1.100 | 7c90e16c@192.168.1.100:26656 |
| Validator 2 | abc123de... | 192.168.1.101 | abc123de@192.168.1.101:26656 |
| Validator 3 | def456ab... | 192.168.1.102 | def456ab@192.168.1.102:26656 |



**What This Does**: Sets the exact moment when the chain starts producing blocks

**Format**: RFC3339 UTC timestamp

**Coordination Steps**:

**1. Choose Future Time** (give validators time to prepare):

```bash expandable
# Example: Launch in 24 hours
# If now is: 2024-10-14T12:00:00Z
# Set genesis_time to: 2024-10-15T12:00:00Z
```

**2. Update Genesis** (coordinator):

```bash expandable
jq '.genesis_time = "2024-10-15T12:00:00Z"' genesis.json > tmp && mv tmp genesis.json
```

**3. Distribute Updated Genesis** with genesis_time set

**4. All Validators Verify**:

```bash expandable
jq '.genesis_time' ~/.yourchain/config/genesis.json
```

**5. Validators Start Nodes Before Genesis Time**:

```bash expandable
# Start 30 minutes before genesis_time
yourchain start
```

Output:
```
Genesis time is in the future. Waiting...
Time until genesis: 29m 45s
```

**6. Chain Automatically Starts at Genesis Time**

**Notes**:
- All validators must use same genesis_time
- Start nodes before genesis_time
- Chain waits until genesis_time to begin



**Start Command**:

```bash expandable
yourchain start
```

**Monitor Logs**:

```bash expandable
yourchain start 2>&1 | grep "finalizing commit"
```

**Expected Output**:
```
INF finalizing commit of block hash=ABC123... height=1
INF finalizing commit of block hash=DEF456... height=2
INF finalizing commit of block hash=GHI789... height=3
```

**Verification Checks**:

**1. Check Block Height Increasing**:

```bash expandable
curl localhost:26657/status | jq '.result.sync_info.latest_block_height'
```

**2. Check Validator Participation**:

```bash expandable
curl localhost:26657/validators | jq '.result.validators | length'
```

**3. Confirm 2/3+ Voting Power**:

```bash expandable
curl localhost:26657/validators | \
  jq '[.result.validators[].voting_power | tonumber] | add'
```

**4. Check Network Health**:

```bash expandable
curl localhost:26657/health
# Should return: {}
```

**5. Test RPC Access**:

```bash expandable
curl http://localhost:8545 \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

**Common Issues**:

**Chain Not Starting**:
- Check genesis_time hasn't passed
- Verify 2/3+ validators online
- Check logs for errors

**Not Producing Blocks**:
- Verify persistent_peers configured
- Check network connectivity
- Ensure >= 2/3 voting power online





**Your chain is now running!** Validators can begin processing transactions and the network is operational.

## Quick Reference

### Commands Summary

```bash expandable
# Build
make build

# Initialize
yourchain init <moniker> --chain-id <chain-id>

# Genesis accounts
yourchain genesis add-genesis-account <address> <amount><denom>

# Create validator gentx
yourchain genesis gentx <key-name> <amount><denom> --chain-id <chain-id>

# Collect gentxs
yourchain genesis collect-gentxs

# Validate genesis
yourchain genesis validate

# Hash genesis
jq -S -c . genesis.json | shasum -a 256

# Show node ID
yourchain comet show-node-id

# Start node
yourchain start

# Check status
curl localhost:26657/status

# Check block height
curl http://localhost:8545 -X POST -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

### File Locations

| File | Location |
||-|
| Genesis | `~/.yourchain/config/genesis.json` |
| App Config | `~/.yourchain/config/app.toml` |
| CometBFT Config | `~/.yourchain/config/config.toml` |
| Gentx | `~/.yourchain/config/gentx/` |
| Bech32 Prefix | `config/config.go:62` |
| BIP44 Coin Type | `crypto/hd/hdpath.go:9` |

### Default Values

| Parameter | Default | Source |
|--||--|
| Bech32 Prefix | `cosmos` | config/config.go:62 |
| BIP44 Coin Type | `60` | crypto/hd/hdpath.go:9 |
| EVM Chain ID | `262144` | config/config.go:78 |
| Base Fee | `1000000000` (1 gwei) | x/feemarket/types/params.go:13 |
| Mempool Price Limit | `1` wei | mempool/txpool/legacypool/legacypool.go:161 |
| History Serve Window | `8192` blocks | x/vm/types/params.go:50 |



**Generated from**: [cosmos/evm](https://github.com/cosmos/evm) codebase
**Version**: Cosmos SDK v0.53.4, IBC-Go v10, CometBFT v0.38.18
