---
title: "Chain Configuration Guide"
description: "Step-by-step guide to configuring your Cosmos EVM chain. Learn how to customize the binary name, chain IDs, token denomination, precompiles, and permissions based on the evmd reference implementation."
---

When building your custom chain based on `evmd`, you'll need to configure several key parameters. This guide walks through each configuration option from the evmd default setup and shows you how to customize it for your chain.

<Info>
This guide focuses on the practical configuration steps. For comprehensive parameter references and advanced topics, see the [migration guides](/docs/evm/next/documentation/migrations/migration-v0.4-to-v0.5) and module-specific documentation.
</Info>

## evmd Default Configuration

The reference implementation (`evmd`) comes with these defaults:

| Configuration | Default Value | Customizable |
|||--|
| **Binary Name** | `evmd` | ✓ Yes (rename) |
| **Cosmos Chain ID** | User-defined (string) | ✓ Yes (genesis) |
| **EVM Chain ID** | `262144` | ✓ Yes (app.toml) |
| **Token Pairs** | 1 (native token) | ✓ Yes (genesis) |
| **Denomination** | `atest` (18 decimals) | ✓ Yes (genesis) |
| **EVM Permissioning** | Permissionless | ✓ Yes (genesis) |
| **Enabled Precompiles** | All precompiles | ✓ Yes (genesis) |

Let's configure each of these for your custom chain.



## 1. Binary Name

**What It Is**: The name of your compiled blockchain executable.

**Default**: `evmd`

### How to Change

<Steps>
<Step title="Rename Directory">
```bash expandable
cd /path/to/cosmos-evm
mv evmd yourchain
```
</Step>

<Step title="Update Go Files">
```bash expandable
# Update all references in Go files
find . -type f -name "*.go" -exec sed -i 's/evmd/yourchain/g' {} \;
```
</Step>

<Step title="Update go.mod">
Edit the module path in `go.mod`:
```go expandable
module github.com/your-org/your-chain

// Update import paths that reference evmd
```
</Step>

<Step title="Update Makefile">
Edit the Makefile to use your binary name:
```makefile
BINARY_NAME := yourchain

install:
	go install ./yourchain/cmd/yourchain
```
</Step>

<Step title="Build">
```bash expandable
go mod tidy
make install

# Or build directly
go build -o yourchain ./yourchain/cmd/yourchain
```
</Step>
</Steps>

<Tip>
After renaming, your binary will be `yourchain` instead of `evmd`. All CLI commands will use this new name (e.g., `yourchain start` instead of `evmd start`).
</Tip>



## 2. Cosmos Chain ID

**What It Is**: The unique string identifier for your blockchain in the Cosmos ecosystem. Used for CometBFT consensus, IBC connections, and governance.

**Format**: String with flexible naming (e.g., `"cosmosevm-1"`, `"mychain-testnet-2"`)

### How to Change

Set during chain initialization:

```bash expandable
yourchain init mynode --chain-id mychain-1
```

**Recommended Formats**:
- Mainnet: `mychain-1` (increment version for major upgrades)
- Testnet: `mychain-testnet-1`
- Local: Any unique string

**Important**: The Cosmos chain ID can be **any string**. While the format `{name}-{number}` is canonical for IBC client upgrades, you have full flexibility in choosing your identifier.

### Changing After Genesis

The Cosmos chain ID can be changed during coordinated chain upgrades. The version number (e.g., `-1`, `-2`) is typically incremented when consensus-breaking changes occur.



## 3. EVM Chain ID

**What It Is**: The EIP-155 integer used for Ethereum transaction replay protection. This is what Ethereum wallets (MetaMask, etc.) use to identify your network.

**Default**: `262144`

### How to Change

<Warning>
The EVM chain ID **cannot** be changed after genesis without breaking transaction replay protection and wallet compatibility. Choose carefully before launch.
</Warning>

Configure it in `app.toml`:
```toml expandable
[evm]
chain-id = 262144
```

Or via CLI flag when starting the chain:
```bash expandable
yourchain start --evm.chain-id 262144
```

### Choosing an EVM Chain ID

**Choose any integer that isn't already taken on [chainlist.org](https://chainlist.org)**

**Avoid these**:
- `1` - Ethereum Mainnet
- `137` - Polygon
- `56` - BNB Chain
- Check [chainlist.org](https://chainlist.org) for all registered chains

**For local development and testnets**:
- Use `262144` (evmd default)
- Or any unique high number
- No registration needed

**For mainnet launches**:
- Choose a unique integer not in use
- Register at [chainlist.org](https://chainlist.org)
- Verify no conflicts
- Document publicly



## 4. EIP Integration

**What It Is**: Enable additional Ethereum Improvement Proposals (EIPs) that aren't activated by default in the EVM configuration.

**Default**: Empty list (no extra EIPs enabled)

### How to Configure

Enable additional EIPs in genesis:

```json expandable
{
  "app_state": {
    "vm": {
      "params": {
        "extra_eips": []
      }
    }
  }
}
```

<Note>
The `extra_eips` parameter allows enabling standard Ethereum EIPs that aren't included in the default chain configuration. Most chains can leave this empty and use the standard EVM feature set.
</Note>

### When to Use Extra EIPs

<Tabs>
<Tab title="Standard Configuration">
**Most chains should use the default empty configuration**:

```json expandable
{
  "extra_eips": []
}
```

The default EVM configuration includes all commonly-used Ethereum features up through the Cancun upgrade.
</Tab>

<Tab title="Advanced Features">
**Enable specific EIPs if your chain requires them**:

For example, to enable additional EIP-1153 (transient storage):
```json expandable
{
  "extra_eips": [1153]
}
```

Only add EIPs if you have a specific technical requirement for functionality not in the default configuration.
</Tab>
</Tabs>



## 5. Token Pairs (ERC20 Module)

**What It Is**: Mappings between Cosmos native tokens and ERC20 contract representations.

**Default**: 1 pair for the native token

### How to Configure

<Info>
**Learn More:**
- [Single Token Representation Concepts](/docs/evm/next/documentation/concepts/single-token-representation) - Understanding STRv2
- [ERC20 Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/erc20) - Configuration parameters and setup
</Info>

Token pairs are configured in genesis under the `erc20` module:

```json expandable
{
  "app_state": {
    "erc20": {
      "native_precompiles": [
        "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"
      ],
      "token_pairs": [
        {
          "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
          "denom": "atest",
          "enabled": true,
          "contract_owner": 1
        }
      ]
    }
  }
}
```

### Default Native Token Pair

The evmd example uses a special ERC20 address for the native token:
- **Address**: `0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE`
- **Denom**: `atest` (or your chain's native denom)
- **Purpose**: Allows native tokens to be used in EVM contracts as ERC20

<Tip>
**Default Setup**: Most chains start with just the native token pair. Additional pairs can be registered after launch through governance or permissionless registration (if enabled).
</Tip>



## 6. Token Denomination

**What It Is**: Your chain's native token denomination and decimal precision.

**Default**: `atest` (18 decimals, atto-prefix)

### Understanding Token Configuration

Token configuration involves three components:

1. **Bank Metadata** - Defines denominations and decimals
2. **VM Parameters** - Specifies which denom is the EVM native token
3. **Extended Denom Options** - Required only for non-18 decimal tokens

<Tabs>
<Tab title="18 Decimals (Recommended)">
**Direct EVM Compatibility - No Extra Modules Needed**

```json expandable
{
  "app_state": {
    "bank": {
      "denom_metadata": [
        {
          "description": "The native staking token",
          "denom_units": [
            {
              "denom": "atoken",    // atto-prefix (18 decimals)
              "exponent": 0,
              "aliases": ["attotoken"]
            },
            {
              "denom": "token",     // Display denomination
              "exponent": 18
            }
          ],
          "base": "atoken",
          "display": "token",
          "name": "Token",
          "symbol": "TOKEN"
        }
      ]
    },
    "vm": {
      "params": {
        "evm_denom": "atoken"  // Must match base
        // No extended_denom_options needed!
      }
    }
  }
}
```

**Benefits**:
- ✓ Direct 1:1 EVM mapping
- ✓ Uses standard `x/bank` module
- ✓ Simpler architecture
- ✓ No additional modules required
</Tab>

<Tab title="6 Decimals (Cosmos Standard)">
**Requires PreciseBank Module**

```json expandable
{
  "app_state": {
    "bank": {
      "denom_metadata": [
        {
          "denom_units": [
            {
              "denom": "utoken",    // micro-prefix (6 decimals)
              "exponent": 0
            },
            {
              "denom": "token",
              "exponent": 6
            }
          ],
          "base": "utoken",
          "display": "token"
        }
      ]
    },
    "vm": {
      "params": {
        "evm_denom": "utoken",
        "extended_denom_options": {
          "extended_denom": "atoken"  // 18-decimal EVM representation
        }
      }
    }
  }
}
```

**Additional Setup Required**:
- Must add `x/precisebank` module to `app.go`
- Precisebank handles fractional amounts (1 utoken = 10^12 wei)
- See [Precision Handling Concepts](/docs/evm/next/documentation/concepts/precision-handling) and [PreciseBank Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/precisebank)

<Warning>
When using non-18 decimal tokens, you **must** add the precisebank module and configure the extended denom. Failure to do so will result in precision loss and incorrect balances.
</Warning>
</Tab>

<Tab title="Other Decimals">
**Also Requires PreciseBank**

For chains using other decimal precisions (e.g., 8 decimals for Bitcoin compatibility):

```json expandable
{
  "bank": {
    "denom_metadata": [{
      "denom_units": [
        {"denom": "sats", "exponent": 0},      // 8 decimals
        {"denom": "btc", "exponent": 8}
      ],
      "base": "sats"
    }]
  },
  "vm": {
    "params": {
      "evm_denom": "sats",
      "extended_denom_options": {
        "extended_denom": "asats"  // 18-decimal for EVM
      }
    }
  }
}
```

Requires precisebank module with custom conversion factor.
</Tab>
</Tabs>

### Common Denomination Prefixes

| Prefix | Decimals | Example | Used For |
|--|-||-|
| `a` (atto) | 18 | `atoken` | **EVM-compatible chains (recommended)** |
| `u` (micro) | 6 | `uatom`, `ustake` | Traditional Cosmos chains |
| Base | 0-8 | `sats` | Bitcoin-style |

<Tip>
**Recommendation**: Use 18 decimals (`atto` prefix) for new chains. This provides:
- Direct EVM compatibility
- Simpler codebase (no precisebank needed)
- Better UX for Ethereum users
- Standard across EVM ecosystems
</Tip>

### Setting Denomination in Genesis

The denomination is set in multiple places that must be consistent:

```bash expandable
# After initializing your chain
GENESIS=~/.yourchain/config/genesis.json

# Set denomination in all modules
jq '.app_state["staking"]["params"]["bond_denom"]="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state["gov"]["params"]["min_deposit"][0]["denom"]="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state["vm"]["params"]["evm_denom"]="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state["mint"]["params"]["mint_denom"]="atoken"' $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata
jq '.app_state["bank"]["denom_metadata"]=[{
  "description": "The native staking token",
  "denom_units": [
    {"denom": "atoken", "exponent": 0, "aliases": ["attotoken"]},
    {"denom": "token", "exponent": 18, "aliases": []}
  ],
  "base": "atoken",
  "display": "token",
  "name": "Token",
  "symbol": "TOKEN"
}]' $GENESIS > tmp && mv tmp $GENESIS
```

<Note>
**Critical**: The following must all use the same base denomination:
- `staking.params.bond_denom`
- `mint.params.mint_denom`
- `gov.params.min_deposit[0].denom`
- `vm.params.evm_denom`
- `bank.denom_metadata[0].base`
</Note>



## 7. EVM Permissioning

**What It Is**: Access control for deploying and calling smart contracts.

**Default**: Permissionless (anyone can deploy and call contracts)

### How to Configure

EVM permissions are set in genesis under `vm.params.access_control`:

<Tabs>
<Tab title="Permissionless (Default)">
```json expandable
{
  "app_state": {
    "vm": {
      "params": {
        "access_control": {
          "create": {
            "access_type": 0,  // 0 = PERMISSIONLESS
            "access_control_list": []
          },
          "call": {
            "access_type": 0,
            "access_control_list": []
          }
        }
      }
    }
  }
}
```

**Use Case**: Public chains, testnets, open ecosystems
</Tab>

<Tab title="Permissioned Deployment">
```json expandable
{
  "access_control": {
    "create": {
      "access_type": 2,  // 2 = PERMISSIONED (allowlist)
      "access_control_list": [
        "0x1234567890123456789012345678901234567890",
        "0xabcdefabcdefabcdefabcdefabcdefabcdefabcd"
      ]
    },
    "call": {
      "access_type": 0,  // Keep calls open
      "access_control_list": []
    }
  }
}
```

**Use Case**: Enterprise chains, regulated environments, controlled contract deployment
</Tab>

<Tab title="Restricted (Blocklist)">
```json expandable
{
  "access_control": {
    "create": {
      "access_type": 1,  // 1 = RESTRICTED (blocklist)
      "access_control_list": [
        "0xbadaddr1234567890123456789012345678901234"
      ]
    },
    "call": {
      "access_type": 0,
      "access_control_list": []
    }
  }
}
```

**Use Case**: Blocking known malicious addresses while keeping chain open
</Tab>

<Tab title="Fully Closed">
```json expandable
{
  "access_control": {
    "create": {
      "access_type": 1,  // RESTRICTED with empty list = block all
      "access_control_list": []
    },
    "call": {
      "access_type": 1,
      "access_control_list": []
    }
  }
}
```

**Use Case**: Chains that only use predeployed contracts, no user deployments
</Tab>
</Tabs>

### Access Control Types

| Type | Value | Behavior | access_control_list |
||-|-||
| **Permissionless** | `0` | Anyone can perform action | Ignored |
| **Restricted** | `1` | Block addresses in list | Blocklist |
| **Permissioned** | `2` | Only addresses in list | Allowlist |

<Tip>
**Recommendation**: Start with permissionless for testnets. For mainnets, consider permissioned deployment initially, then transition to permissionless through governance once the chain is stable.
</Tip>

### Modifying After Genesis

Access control can be changed through governance proposals:

```bash expandable
# Example: Enable permissionless deployment via governance
yourchain tx gov submit-proposal param-change proposal.json \
  --from validator \
  --chain-id yourchain-1
```



## 8. Fee Market & Gas Configuration

**What It Is**: Dynamic fee pricing mechanism based on EIP-1559, controlling how transaction fees adjust based on network congestion.

**Default**: EIP-1559 enabled with dynamic base fee

<Info>
**Learn More:**
- [EIP-1559 Fee Market Concepts](/docs/evm/next/documentation/concepts/eip-1559-feemarket) - Understanding dynamic fees
- [FeeMarket Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/feemarket) - Configuration parameters and setup
</Info>

### Understanding Fee Market

The fee market module implements EIP-1559 dynamic pricing:

**Transaction Fee Components**:
- **Base Fee**: Algorithmically determined, increases when blocks are full, decreases when empty
- **Priority Fee (Tip)**: Optional fee to validators for faster inclusion
- **Max Fee**: Maximum total fee per gas user will pay

**Configuration Options**:

<Tabs>
<Tab title="EIP-1559 Enabled (Default)">
```json expandable
{
  "app_state": {
    "feemarket": {
      "params": {
        "no_base_fee": false,
        "base_fee_change_denominator": 8,
        "elasticity_multiplier": 2,
        "base_fee": "1000000000",
        "min_gas_price": "0.0",
        "min_gas_multiplier": "0.5"
      }
    }
  }
}
```

**Use Case**: Standard Ethereum-compatible chains with predictable fees
</Tab>

<Tab title="Fixed Gas Pricing">
```json expandable
{
  "feemarket": {
    "params": {
      "no_base_fee": true,
      "min_gas_price": "1000000000.0"
    }
  }
}
```

**Use Case**: Traditional Cosmos chains or testing environments
</Tab>
</Tabs>

**Key Parameters**:
- `no_base_fee`: Set to `true` to disable EIP-1559 dynamic pricing
- `base_fee`: Initial base fee in wei (default: 1 gwei)
- `base_fee_change_denominator`: Controls adjustment speed (8 = ±12.5% per block)
- `min_gas_price`: Network-wide minimum gas price floor

<Tip>
Most Ethereum-compatible chains should keep EIP-1559 enabled (default) for better user experience and fee predictability.
</Tip>



## 9. Enabled Precompiles

**What It Is**: Native Cosmos SDK functionality exposed as EVM smart contracts.

**Default**: All static precompiles enabled

### Available Precompiles

<Info>
For complete precompile documentation including Solidity interfaces and usage examples, see the [Precompiles Overview](/docs/evm/next/documentation/smart-contracts/precompiles/overview).
</Info>

| Address | Name | Description | Typical Use Case |
|||-||
| `0x0100` | **P256** | P256 cryptographic operations | Web3 auth, secure signing |
| `0x0400` | **Bech32** | Cosmos ↔ Ethereum address conversion | Cross-chain operations |
| `0x0800` | **Staking** | Validator staking operations | Liquid staking, auto-compounding |
| `0x0801` | **Distribution** | Reward distribution queries | Reward dashboards, auto-claiming |
| `0x0802` | **ICS20** | IBC token transfers | Cross-chain DeFi |
| `0x0803` | **Vesting** | Vesting account management | Token vesting contracts |
| `0x0804` | **Bank** | Native token transfers | Payment contracts |
| `0x0805` | **Governance** | On-chain voting | DAO integration |
| `0x0806` | **Slashing** | Validator slashing info | Validator monitoring |

### How to Configure

<Tabs>
<Tab title="Enable All (evmd default)">
```json expandable
{
  "app_state": {
    "vm": {
      "params": {
        "active_static_precompiles": [
          "0x0000000000000000000000000000000000000100",
          "0x0000000000000000000000000000000000000400",
          "0x0000000000000000000000000000000000000800",
          "0x0000000000000000000000000000000000000801",
          "0x0000000000000000000000000000000000000802",
          "0x0000000000000000000000000000000000000803",
          "0x0000000000000000000000000000000000000804",
          "0x0000000000000000000000000000000000000805",
          "0x0000000000000000000000000000000000000806"
        ]
      }
    }
  }
}
```

**Use Case**: Maximum Cosmos SDK integration, full-featured chains
</Tab>

<Tab title="Enable Specific Precompiles">
```json expandable
{
  "active_static_precompiles": [
    "0x0000000000000000000000000000000000000100",  // P256
    "0x0000000000000000000000000000000000000400",  // Bech32
    "0x0000000000000000000000000000000000000800",  // Staking
    "0x0000000000000000000000000000000000000804"   // Bank
  ]
}
```

**Use Case**: Minimal attack surface, only enable what you need
</Tab>

<Tab title="Disable All">
```json expandable
{
  "active_static_precompiles": []
}
```

**Use Case**: Pure EVM chains with no Cosmos SDK integration
</Tab>

<Tab title="In app.go">
Set defaults in your chain's genesis configuration:

```go expandable
// yourchain/genesis.go
func NewDefaultVMGenesisState() *vmtypes.GenesisState {
    evmGenState := vmtypes.DefaultGenesisState()

    // Enable only specific precompiles
    evmGenState.Params.ActiveStaticPrecompiles = []string{
        "0x0000000000000000000000000000000000000100", // P256
        "0x0000000000000000000000000000000000000800", // Staking
        "0x0000000000000000000000000000000000000804", // Bank
    }

    return evmGenState
}
```
</Tab>
</Tabs>

### Modifying After Genesis

Precompiles can be enabled or disabled through governance:

```bash expandable
# Propose adding a precompile
yourchain tx gov submit-proposal param-change proposal.json \
  --from validator
```



## Configuration Workflow

Here's the recommended order for configuring your chain:

<Steps>
<Step title="Plan Your Configuration">
Decide on:
- Binary name
- Chain IDs (Cosmos and EVM)
- Token denomination and decimals
- Precompiles needed
- Access control policy
</Step>

<Step title="Rename and Rebrand">
```bash expandable
# Rename binary
mv evmd yourchain

# Update references
find . -type f -name "*.go" -exec sed -i 's/evmd/yourchain/g' {} \;

# Update go.mod
# Edit module path
```
</Step>

<Step title="Initialize Chain">
```bash expandable
yourchain init mynode --chain-id yourchain-1
```
</Step>

<Step title="Configure Genesis">
Edit `~/.yourchain/config/genesis.json`:

```bash expandable
GENESIS=~/.yourchain/config/genesis.json

# Set denominations
jq '.app_state.staking.params.bond_denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state.vm.params.evm_denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata
# Set precompiles
# Set access control
```
</Step>

<Step title="Configure app.toml">
Edit `~/.yourchain/config/app.toml`:

```toml expandable
[evm]
chain-id = 262144  # Set EVM chain ID
min-tip = 1000000000

[json-rpc]
enable = true
address = "0.0.0.0:8545"
```
</Step>

<Step title="Test Locally">
```bash expandable
yourchain start
```

Verify:
- Chain starts successfully
- RPC is accessible
- Precompiles are enabled
- Token denomination is correct
</Step>

<Step title="Deploy">
For production:
- Coordinate genesis with validators
- Distribute final genesis file
- Launch at coordinated time
</Step>
</Steps>



## Configuration Examples

### Reference: local_node.sh

<Info>
**Looking for a real-world example?** The `local_node.sh` script in the Cosmos EVM repository is the best reference for complete chain configuration. It demonstrates how evmd sets up genesis and app.toml for local development.
</Info>

The `local_node.sh` script performs all the configuration steps automatically. Here's what it does:

The script modifies `genesis.json` to configure:

- **Cosmos Chain ID**: Sets a development chain ID
- **Token denomination**: Configures `atest` (18 decimals) across all modules
- **Bank metadata**: Sets up denom metadata with proper exponents
- **Precompiles**: Enables all static precompiles by default
- **Validator configuration**: Creates genesis validator with initial stake
- **Genesis accounts**: Funds test accounts for development

<Tip>
View the genesis configuration logic in `local_node.sh` to see exactly how evmd modifies genesis parameters for local development.
</Tip>

The script configures `app.toml` with development-friendly settings:

```toml expandable
[evm]
chain-id = 262144
tracer = "json"  # Enable EVM tracing for debugging
min-tip = 0      # No minimum tip for local testing

[json-rpc]
enable = true
address = "0.0.0.0:8545"
ws-address = "0.0.0.0:8546"
api = ["eth", "net", "web3", "txpool", "debug"]  # All APIs for testing
allow-unprotected-txs = true                      # Allow unsigned txs locally
enable-indexer = true                             # Enable transaction indexing
```

These settings are optimized for local development and should be adjusted for production.

The `local_node.sh` script accepts flags that control configuration:

- **`-y`**: Overwrites previous database (fresh genesis)
- **`-n`**: Preserves previous database (resume)
- **`--no-install`**: Skips binary rebuild
- **`--remote-debugging`**: Builds with debug symbols

Example usage:
```bash expandable
# Fresh start with all default configurations
./local_node.sh -y

# Resume from previous state
./local_node.sh -n
```

To use `local_node.sh` as a template for your chain:

1. **Copy the script**: `cp local_node.sh my_chain_setup.sh`
2. **Update chain name**: Change `evmd` to your binary name
3. **Modify genesis values**: Update denom, chain ID, precompiles
4. **Adjust app.toml settings**: Configure for your use case (testnet/mainnet)
5. **Add custom logic**: Include any chain-specific setup

The script serves as a complete example of the configuration workflow described in this guide.

<Note>
**Production Considerations**: The `local_node.sh` configuration is optimized for local development. For testnets and mainnets:
- Disable debug APIs in JSON-RPC
- Require transaction signatures (`allow-unprotected-txs = false`)
- Set appropriate `min-tip` value
- Use secure key management (not test keys)
- Configure proper peer discovery and networking
</Note>



### Complete 18-Decimal Chain

<CodeGroup>
```bash init.sh
#!/bin/bash
# Initialize and configure an 18-decimal chain

BINARY="yourchain"
CHAIN_ID="yourchain-1"
EVM_CHAIN_ID="262144"
DENOM="atoken"
GENESIS=~/.yourchain/config/genesis.json

# Initialize
$BINARY init mynode --chain-id $CHAIN_ID

# Configure denominations
jq ".app_state.staking.params.bond_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.mint.params.mint_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.gov.params.min_deposit[0].denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.vm.params.evm_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata (18 decimals)
jq ".app_state.bank.denom_metadata=[{
  \"description\": \"The native staking token\",
  \"denom_units\": [
    {\"denom\": \"$DENOM\", \"exponent\": 0, \"aliases\": [\"attotoken\"]},
    {\"denom\": \"token\", \"exponent\": 18, \"aliases\": []}
  ],
  \"base\": \"$DENOM\",
  \"display\": \"token\",
  \"name\": \"Token\",
  \"symbol\": \"TOKEN\"
}]" $GENESIS > tmp && mv tmp $GENESIS

# Enable specific precompiles
jq '.app_state.vm.params.active_static_precompiles=[
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800",
  "0x0000000000000000000000000000000000000804"
]' $GENESIS > tmp && mv tmp $GENESIS

echo "Configuration complete!"
```

```toml app.toml
[evm]
chain-id = 262144
min-tip = 1000000000  # 1 gwei
cache-preimage = false

[json-rpc]
enable = true
address = "0.0.0.0:8545"
ws-address = "0.0.0.0:8546"
api = ["eth", "net", "web3", "txpool"]
gas-cap = 25000000
allow-unprotected-txs = false
```
</CodeGroup>

### Complete 6-Decimal Chain with PreciseBank

<CodeGroup>
```bash init-6-decimal.sh
#!/bin/bash
# Initialize and configure a 6-decimal chain

BINARY="yourchain"
CHAIN_ID="yourchain-1"
EVM_CHAIN_ID="262144"
BASE_DENOM="utoken"
EXTENDED_DENOM="atoken"
GENESIS=~/.yourchain/config/genesis.json

# Initialize
$BINARY init mynode --chain-id $CHAIN_ID

# Configure denominations
jq ".app_state.staking.params.bond_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.mint.params.mint_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.gov.params.min_deposit[0].denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.vm.params.evm_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata (6 decimals)
jq ".app_state.bank.denom_metadata=[{
  \"description\": \"The native staking token\",
  \"denom_units\": [
    {\"denom\": \"$BASE_DENOM\", \"exponent\": 0},
    {\"denom\": \"token\", \"exponent\": 6}
  ],
  \"base\": \"$BASE_DENOM\",
  \"display\": \"token\",
  \"name\": \"Token\",
  \"symbol\": \"TOKEN\"
}]" $GENESIS > tmp && mv tmp $GENESIS

# Set extended denom options (REQUIRED for 6 decimals)
jq ".app_state.vm.params.extended_denom_options={
  \"extended_denom\": \"$EXTENDED_DENOM\"
}" $GENESIS > tmp && mv tmp $GENESIS

echo "Configuration complete! Remember to add precisebank module to app.go"
```

```go app.go
// In app.go, you must add precisebank module:

import (
    precisebankkeeper "github.com/cosmos/evm/x/precisebank/keeper"
    precisebanktypes "github.com/cosmos/evm/x/precisebank/types"
)

// Add to store keys
keys := storetypes.NewKVStoreKeys(
    // ... other keys
    precisebanktypes.StoreKey,
)

// Initialize PreciseBankKeeper
app.PreciseBankKeeper = precisebankkeeper.NewKeeper(
    appCodec,
    keys[precisebanktypes.StoreKey],
    app.BankKeeper,
    app.AccountKeeper,
)

// Use PreciseBankKeeper in EVMKeeper
app.EVMKeeper = evmkeeper.NewKeeper(
    // ...
    app.PreciseBankKeeper,  // Not app.BankKeeper!
    // ...
)

// Add to module manager
app.ModuleManager = module.NewManager(
    // ... other modules
    precisebank.NewAppModule(app.PreciseBankKeeper, app.AccountKeeper),
    // ...
)

// Add to genesis order (after bank, before vm)
genesisModuleOrder := []string{
    // ...
    banktypes.ModuleName,
    precisebanktypes.ModuleName,
    evmtypes.ModuleName,
    // ...
}
```
</CodeGroup>



## Next Steps

Now that your chain is configured:

1. **Test Locally**: Use `./local_node.sh` to test all configurations
2. **Deploy Contracts**: Verify precompiles work as expected
3. **Set Up Validators**: Prepare for testnet/mainnet launch
4. **Document Configuration**: Share configuration choices with users
5. **Plan Governance**: Determine which parameters may change post-launch

### Further Reading

**Configuration References:**

<CardGroup cols={3}>
<Card title="Building Your Chain Guide" icon="hammer" href="/docs/evm/next/documentation/getting-started/build-a-chain/building-your-chain-guide">
Complete guide to forking and customizing evmd
</Card>

<Card title="VM Module" icon="microchip" href="/docs/evm/next/documentation/cosmos-sdk/modules/vm">
EVM execution, precompiles, and access control
</Card>

<Card title="ERC20 Module" icon="arrows-left-right" href="/docs/evm/next/documentation/cosmos-sdk/modules/erc20">
Token pairs and ERC20 wrapper configuration
</Card>

<Card title="FeeMarket Module" icon="chart-line" href="/docs/evm/next/documentation/cosmos-sdk/modules/feemarket">
EIP-1559 dynamic fee market configuration
</Card>

<Card title="PreciseBank Module" icon="scale-balanced" href="/docs/evm/next/documentation/cosmos-sdk/modules/precisebank">
Fractional balance tracking for non-18-decimal chains
</Card>

<Card title="Migration Guide" icon="right-left" href="/docs/evm/next/documentation/migrations/migration-v0.4-to-v0.5">
Detailed migration instructions for v0.5
</Card>
</CardGroup>

**Conceptual Understanding:**

<CardGroup cols={3}>
<Card title="Single Token Representation" icon="coins" href="/docs/evm/next/documentation/concepts/single-token-representation">
Understanding unified token models (STRv2)
</Card>

<Card title="EIP-1559 Fee Market" icon="chart-line" href="/docs/evm/next/documentation/concepts/eip-1559-feemarket">
Understanding dynamic fee pricing
</Card>

<Card title="Precision Handling" icon="calculator" href="/docs/evm/next/documentation/concepts/precision-handling">
Understanding decimal bridging between Cosmos and EVM
</Card>
</CardGroup>



For additional support, visit the [Cosmos EVM GitHub repository](https://github.com/cosmos/evm) or join the Cosmos developer community.
