---
title: "Chain Configuration Reference"
description: "Comprehensive reference for configuring your Cosmos EVM chain. Complete documentation for every parameter from binary setup through post-launch operations."
---

This reference provides complete inline documentation for every configuration parameter when building a Cosmos EVM chain. Each section includes code examples, file locations, and detailed explanations organized by configuration area.


## Configuration Overview

When building your custom chain, you'll configure parameters across multiple areas:

| Configuration Area | When to Configure | Changeable After Genesis |
|-|-|-|
| **Binary Name** | Before any setup | No (requires new binary) |
| **Bech32 Prefix** | Before `init` | No (hard fork required) |
| **BIP44 Coin Type** | Before `init` | No (breaks wallets) |
| **EVM Chain ID** | Before `init` | No (breaks signatures) |
| **Token Decimals** | Genesis | No (architectural) |
| **Bank Metadata** | Genesis | Limited (via governance) |
| **Precompiles** | Genesis | Yes (via governance) |
| **Access Control** | Genesis | Yes (via governance) |
| **Fee Market** | Genesis | Yes (via governance) |
| **Runtime Config** | Before start | Yes (node-level) |



## Binary Name

**What It Is**: The name of your compiled blockchain executable.

**Default**: `evmd`

### How to Change

<Steps>
<Step title="Rename Directory">
```bash
cd /path/to/cosmos-evm
mv evmd yourchain
```
</Step>

<Step title="Update Go Import Paths">
```bash
# Update all references in Go files
find . -type f -name "*.go" -exec sed -i '' \
  's|github.com/cosmos/evm/evmd|github.com/your-org/your-chain/yourchain|g' {} \;
```
</Step>

<Step title="Update go.mod">
Edit the module declaration:
```go
module github.com/your-org/your-chain

// Update all import paths that reference evmd
```
</Step>

<Step title="Update Makefile">
```bash
sed -i '' 's/evmd/yourchain/g' Makefile
```
</Step>

<Step title="Build and Verify">
```bash
go mod tidy
make build

# Verify
./build/yourchain version
```
</Step>
</Steps>

<Tip>
After renaming, all CLI commands use your new binary name: `yourchain start`, `yourchain init`, etc.
</Tip>



## Bech32 Address Prefix

**What It Is**: Defines your chain's address format (e.g., `cosmos1...`, `evmos1...`, `yourchain1...`).

**Default**: `cosmos`

**File**: `config/config.go:62`

### How to Change

<Warning>
Must be changed **before** running `yourchain init`. Changing after genesis requires a hard fork.
</Warning>

**Default Code**:
```go
const (
    Bech32Prefix = "cosmos"
)
```

**Update to Your Prefix**:
```go
const (
    // Bech32Prefix defines the Bech32 prefix for your chain
    Bech32Prefix = "yourchain"
    // Bech32PrefixAccAddr defines account addresses
    Bech32PrefixAccAddr = Bech32Prefix
    // Bech32PrefixAccPub defines account public keys
    Bech32PrefixAccPub = Bech32Prefix + sdk.PrefixPublic
    // Bech32PrefixValAddr defines validator operator addresses
    Bech32PrefixValAddr = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixOperator
    // Bech32PrefixValPub defines validator operator public keys
    Bech32PrefixValPub = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixOperator + sdk.PrefixPublic
    // Bech32PrefixConsAddr defines consensus node addresses
    Bech32PrefixConsAddr = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixConsensus
    // Bech32PrefixConsPub defines consensus node public keys
    Bech32PrefixConsPub = Bech32Prefix + sdk.PrefixValidator + sdk.PrefixConsensus + sdk.PrefixPublic
)
```

**Result**: Your addresses will look like `yourchain1abc123...`

**Source**: [config/config.go:60-74](https://github.com/cosmos/evm/blob/main/config/config.go#L60-L74)



## BIP44 Coin Type

**What It Is**: Sets the HD wallet derivation path for key generation (BIP-44 standard).

**Default**: `60` (Ethereum compatibility)

**File**: `crypto/hd/hdpath.go:9`

### Default Configuration

```go
var (
    // Bip44CoinType satisfies EIP84
    Bip44CoinType uint32 = 60  // Ethereum compatibility
)
```

### Options

<Tabs>
<Tab title="Ethereum Compatibility (Recommended)">
**Use `60` for EVM chains**:

```go
var (
    // Bip44CoinType for Ethereum compatibility
    Bip44CoinType uint32 = 60

    // BIP44HDPath is the default BIP44 HD path
    BIP44HDPath = ethaccounts.DefaultBaseDerivationPath.String()
)
```

**Derivation Path**: `m/44'/60'/0'/0/0`

**Benefits**:
- Works with MetaMask and Ethereum wallets
- Standard for EVM-compatible chains
- Simplified key management

</Tab>

<Tab title="Custom Coin Type">
**Register a unique value**:

1. Register at [SLIP-0044](https://github.com/satoshilabs/slips/blob/master/slip-0044.md)
2. Update code:

```go
var (
    // Bip44CoinType for your chain
    Bip44CoinType uint32 = 12345  // Your registered value

    BIP44HDPath = ethaccounts.DefaultBaseDerivationPath.String()
)
```

**Use Case**: Chains needing unique identity separate from Ethereum ecosystem
</Tab>
</Tabs>

**Source**: [crypto/hd/hdpath.go:7-13](https://github.com/cosmos/evm/blob/main/crypto/hd/hdpath.go#L7-L13)



## EVM Chain ID

**What It Is**: The EIP-155 chain ID for Ethereum transaction replay protection. This is what wallets like MetaMask use to identify your network.

**Type**: Number (uint64)

**Default**: `262144`

**File**: `config/config.go:78`

### How to Set

<Warning>
**CRITICAL**: Must be set BEFORE running `yourchain init`. Cannot be changed after genesis without breaking all transaction signatures.
</Warning>

**Default Code**:
```go
const (
    // EVMChainID defines the EIP-155 replay-protection chain id
    EVMChainID = 262144
)
```

**Update to Your Chain ID**:
```go
const (
    // EVMChainID defines the EIP-155 replay-protection chain id
    EVMChainID = 123456  // Your unique chain ID
)
```

### Choosing an EVM Chain ID

<AccordionGroup>
<Accordion title="Reserved IDs to Avoid">
**Do not use**:
- `1` - Ethereum Mainnet
- `137` - Polygon
- `56` - BNB Chain
- `42161` - Arbitrum One
- `10` - Optimism
- Check [chainlist.org](https://chainlist.org) for all registered chains
</Accordion>

<Accordion title="For Testing">
**Local development and testnets**:
- Use `262144` (evmd default)
- Or any unique high number (e.g., `999001`)
- No registration needed

**Testing Range**: Typically use numbers > 100,000
</Accordion>

<Accordion title="For Production">
**Mainnet launches**:
1. Choose a unique integer not in use
2. Check [chainlist.org](https://chainlist.org) for conflicts
3. Register your chain ID publicly
4. Document in your chain's public materials

**Recommended Ranges**:
- 1,000 - 99,999: Public chains
- 100,000+: Private/test networks
</Accordion>
</AccordionGroup>

### How It Works

**During `init`**: The value from `config/config.go:78` is written to `~/.yourchain/config/app.toml` as `evm-chain-id`

**During node startup**: Read from `app.toml` to initialize EVM encoding

**Verification After Init**:
```bash
grep 'evm-chain-id' ~/.yourchain/config/app.toml
```

**Source**: [config/config.go:77-78](https://github.com/cosmos/evm/blob/main/config/config.go#L77-L78)



## Token Decimal Precision

**What It Is**: Determines whether your native token uses 18 decimals (like ETH) or 6 decimals (like ATOM).

**Recommendation**: Use 18 decimals for simplicity and native EVM compatibility.

### Options

<Tabs>
<Tab title="18 Decimals (Recommended)">
**Native EVM Compatibility - No Extra Modules Needed**

**Configuration**:
- Base denom: `atoken` (atto-token, 10^-18)
- Display denom: `token`
- Exponent: 18
- **No PreciseBank module required**

**Example**: 1 token = 1,000,000,000,000,000,000 atoken

**Advantages**:
- Direct 1:1 EVM mapping
- No additional modules required
- Simpler architecture
- Standard for EVM chains
- Better UX for Ethereum users

**What You Need**:
- Standard `x/bank` module only
- Set `evm_denom` to your 18-decimal base denom
- No `extended_denom_options` needed

</Tab>

<Tab title="6 Decimals (Cosmos Standard)">
**Requires PreciseBank Module**

**Configuration**:
- Base denom: `utoken` (micro-token, 10^-6)
- Display denom: `token`
- Exponent: 6
- **MUST integrate PreciseBank module**
- **MUST configure `extended_denom_options`**

**Example**: 1 token = 1,000,000 utoken

**Advantages**:
- Cosmos SDK standard
- Familiar to Cosmos ecosystem users

**Additional Setup Required**:
1. Add PreciseBank module to `app.go`
2. Configure fractional balance tracking
3. Set `extended_denom` in genesis VM params

**What You Need**:
- `x/precisebank` module in app.go
- Set `evm_denom` to your 6-decimal base denom
- Set `extended_denom_options.extended_denom` to 18-decimal representation

<Warning>
When using 6 decimals, you **must** add the precisebank module. Failure to do so will result in precision loss and incorrect balances in the EVM.
</Warning>

</Tab>

<Tab title="Other Decimals">
**Also Requires PreciseBank**

For chains using other decimal precisions (e.g., 8 decimals for Bitcoin compatibility):

**Configuration**:
- Set your base denom with chosen decimal precision
- Add PreciseBank module to app.go
- Configure `extended_denom_options` with 18-decimal representation
- PreciseBank handles conversion automatically

**Example (8 decimals)**:
- Base denom: `sats` (8 decimals)
- Extended denom: `asats` (18 decimals for EVM)
- PreciseBank converts: 1 sat = 10^10 wei

**Use Case**: Chains needing specific decimal compatibility (Bitcoin, stablecoins, etc.)
</Tab>
</Tabs>

<Info>
**Learn More:**
- [Precision Handling Concepts](/docs/evm/next/documentation/concepts/precision-handling) - Understanding decimal bridging
- [PreciseBank Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/precisebank) - Integration guide
</Info>



## Bank Metadata

**What It Is**: Defines your token's base denomination, decimal precision, and display properties.

**Genesis Path**: `app_state.bank.denom_metadata`

### Configuration Examples

<Tabs>
<Tab title="18-Decimal Token (Recommended)">
```bash
jq '.app_state.bank.denom_metadata=[{
  "description": "The native staking and gas token",
  "denom_units": [
    {
      "denom": "atoken",
      "exponent": 0,
      "aliases": ["attotoken"]
    },
    {
      "denom": "token",
      "exponent": 18,
      "aliases": []
    }
  ],
  "base": "atoken",
  "display": "token",
  "name": "My Token",
  "symbol": "TKN",
  "uri": "",
  "uri_hash": ""
}]' genesis.json > tmp && mv tmp genesis.json
```

**Result**:
- On-chain storage: `atoken`
- User display: `token`
- 1 token = 1,000,000,000,000,000,000 atoken
</Tab>

<Tab title="6-Decimal Token">
```bash
jq '.app_state.bank.denom_metadata=[{
  "description": "The native staking and gas token",
  "denom_units": [
    {
      "denom": "utoken",
      "exponent": 0,
      "aliases": ["microtoken"]
    },
    {
      "denom": "token",
      "exponent": 6,
      "aliases": []
    }
  ],
  "base": "utoken",
  "display": "token",
  "name": "My Token",
  "symbol": "TKN"
}]' genesis.json > tmp && mv tmp genesis.json
```

**Result**:
- On-chain storage: `utoken`
- User display: `token`
- 1 token = 1,000,000 utoken

<Note>
**Required**: Must also configure `extended_denom_options` and add PreciseBank module for 6-decimal chains.
</Note>
</Tab>
</Tabs>

### Field Descriptions

| Field | Description | Example |
|-|-||
| `base` | Smallest unit stored on-chain | `atoken`, `utoken` |
| `display` | Human-readable unit | `token` |
| `exponent` | Decimal places | `18` or `6` |
| `name` | Full token name | `"My Token"` |
| `symbol` | Ticker symbol | `"TKN"` |
| `description` | Token description | `"The native staking token"` |

### Required Consistency

<Warning>
**CRITICAL**: The `base` denom MUST match across all modules:
- `app_state.evm.params.evm_denom`
- `app_state.staking.params.bond_denom`
- `app_state.mint.params.mint_denom`
- `app_state.gov.params.min_deposit[0].denom`

Mismatched denominations will cause genesis validation to fail.
</Warning>



## EVM Denom

**What It Is**: Specifies which bank denomination is the native EVM gas token.

**Genesis Path**: `app_state.evm.params.evm_denom`

**Default**: `"uatom"`

**Type**: String

### How to Configure

```bash
jq '.app_state.evm.params.evm_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json
{
  "app_state": {
    "evm": {
      "params": {
        "evm_denom": "atoken"
      }
    }
  }
}
```

<Note>
**MUST MATCH**: The value must be identical to `app_state.bank.denom_metadata[0].base`
</Note>

**Source**: [x/vm/types/params.go:21](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L21)



## Extended Denom Options

**When Required**: Only for chains using non-18 decimal native tokens (e.g., 6 decimals).

**What It Is**: Provides an 18-decimal representation for EVM compatibility when your native token uses different decimal precision.

**Genesis Path**: `app_state.evm.params.extended_denom_options`

### Configuration for 6-Decimal Chains

```bash
jq '.app_state.evm.params.extended_denom_options = {
  "extended_denom": "atoken"
}' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json
{
  "app_state": {
    "evm": {
      "params": {
        "evm_denom": "utoken",
        "extended_denom_options": {
          "extended_denom": "atoken"
        }
      }
    }
  }
}
```

### How It Works

- Your base denom: `utoken` (6 decimals)
- EVM sees: `atoken` (18 decimals)
- PreciseBank module handles conversion automatically
- 1 utoken = 10^12 wei in EVM

<Warning>
**CRITICAL**: Must also integrate PreciseBank module in `app.go`. Without PreciseBank, balances will be incorrect.
</Warning>

**Not Needed If**: Using 18 decimals (standard EVM setup)

**Source**: [x/vm/types/params.go:76](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L76)



## ERC20 Token Pairs

**What It Is**: Creates ERC20 representation of your native token and other Cosmos assets for EVM compatibility.

**Genesis Path**: `app_state.erc20.token_pairs`

**Special Address for Native Token**: `0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE`

<Info>
**Learn More:**
- [Single Token Representation Concepts](/docs/evm/next/documentation/concepts/single-token-representation) - Understanding STRv2
- [ERC20 Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/erc20) - Complete module documentation
</Info>

### Native Token Pair Configuration

```bash
jq '.app_state.erc20.token_pairs = [{
  "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  "denom": "atoken",
  "enabled": true,
  "contract_owner": 1
}]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json
{
  "app_state": {
    "erc20": {
      "token_pairs": [
        {
          "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
          "denom": "atoken",
          "enabled": true,
          "contract_owner": 1
        }
      ]
    }
  }
}
```

### Field Descriptions

| Field | Description | Value |
|-|-|-|
| `erc20_address` | ERC20 contract address | Special address for native token |
| `denom` | Cosmos base denomination | Must match your token's base denom |
| `enabled` | Whether the pair is active | `true` |
| `contract_owner` | Module ownership | `1` = module-owned |

**Result**: Your native token becomes accessible as an ERC20 token from Solidity contracts.



## Native Precompile Address

**What It Is**: Registers the native token's precompile address in the ERC20 module.

**Genesis Path**: `app_state.erc20.native_precompiles`

### Configuration

```bash
jq '.app_state.erc20.native_precompiles = ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json
{
  "app_state": {
    "erc20": {
      "native_precompiles": ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"]
    }
  }
}
```

<Note>
**Must Match**: The address must be identical to the `erc20_address` in `token_pairs` configuration.
</Note>



## ERC20 Registration Permissions

**What It Is**: Controls whether anyone can register new token pairs or only governance.

**Genesis Path**: `app_state.erc20.params.permissionless_registration`

**Type**: Boolean

**Default**: `true` (anyone can register)

### Configuration Options

<Tabs>
<Tab title="Permissionless (Default)">
```bash
jq '.app_state.erc20.params.permissionless_registration = true' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Public mainnet, DeFi-focused chains

**Behavior**: Any user can register new token pairs for Cosmos assets
</Tab>

<Tab title="Permissioned (Governance Only)">
```bash
jq '.app_state.erc20.params.permissionless_registration = false' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Private chains, enterprise environments, controlled ecosystems

**Behavior**: Only governance proposals can register new token pairs
</Tab>
</Tabs>

**Source**: [x/erc20/types/params.go:27](https://github.com/cosmos/evm/blob/main/x/erc20/types/params.go#L27)



## Active Precompiles

**What It Is**: Enables precompiled contracts that provide access to Cosmos SDK modules from the EVM.

**Genesis Path**: `app_state.evm.params.active_static_precompiles`

**Type**: Array of hex addresses

**Default**: `[]` (empty - no precompiles enabled)

<Info>
**Learn More:**
For complete precompile documentation including Solidity interfaces and usage examples, see the [Precompiles Overview](/docs/evm/next/documentation/smart-contracts/precompiles/overview).
</Info>

### Available Precompiles

| Address | Name | Purpose | Typical Use Case |
|||||
| `0x0100` | **P256** | Cryptographic operations for Web3 auth | Passkey authentication, secure signing |
| `0x0400` | **Bech32** | Cosmos ↔ Ethereum address conversion | Cross-chain operations, IBC |
| `0x0800` | **Staking** | Validator staking operations | Liquid staking protocols, auto-compounding |
| `0x0801` | **Distribution** | Reward distribution and claiming | Reward dashboards, auto-claiming contracts |
| `0x0802` | **ICS20** | IBC token transfers | Cross-chain DeFi, token bridges |
| `0x0803` | **Vesting** | Token vesting operations | Vesting schedules, token unlocks |
| `0x0804` | **Bank** | Bank module operations | Payment contracts, balances |
| `0x0805` | **Governance** | Submit/vote on proposals | DAO integration, on-chain voting |
| `0x0806` | **Slashing** | Slashing queries | Validator monitoring, dashboards |
| `0x0807` | **Authz** | Authorization grants | Delegated permissions |

### Configuration Options

<Tabs>
<Tab title="Enable All Precompiles">
```bash
jq '.app_state.evm.params.active_static_precompiles = [
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800",
  "0x0000000000000000000000000000000000000801",
  "0x0000000000000000000000000000000000000802",
  "0x0000000000000000000000000000000000000803",
  "0x0000000000000000000000000000000000000804",
  "0x0000000000000000000000000000000000000805",
  "0x0000000000000000000000000000000000000806",
  "0x0000000000000000000000000000000000000807"
]' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Maximum Cosmos SDK integration, full-featured chains
</Tab>

<Tab title="Enable Specific Precompiles">
```bash
jq '.app_state.evm.params.active_static_precompiles = [
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800"
]' genesis.json > tmp && mv tmp genesis.json
```

**Example**: P256, Bech32, and Staking only

**Use Case**: Minimal attack surface, enable only what you need
</Tab>

<Tab title="Disable All Precompiles">
```bash
jq '.app_state.evm.params.active_static_precompiles = []' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Pure EVM chains with no Cosmos SDK integration
</Tab>
</Tabs>

<Note>
**Important**: The array must be sorted in ascending order for determinism.
</Note>

### Modifying After Genesis

Precompiles can be enabled or disabled through governance proposals:

```bash
yourchain tx gov submit-proposal param-change proposal.json \
  --from validator \
  --chain-id yourchain-1
```

**Source**: [x/vm/types/precompiles.go:22-32](https://github.com/cosmos/evm/blob/main/x/vm/types/precompiles.go#L22-L32)



## Predeployed Contracts

**What It Is**: Deploys essential smart contracts at genesis to standard addresses.

**Genesis Path**: `app_state.evm.preinstalls`

### Available Contracts

**1. CREATE2 Deployer** (`0x4e59b44847b379578588920cA78FbF26c0B4956C`)
- Deterministic contract deployment
- Same address across all EVM chains
- Standard Ethereum tooling compatibility

**2. Multicall3** (`0xcA11bde05977b3631167028862bE2a173976CA11`)
- Batch multiple read calls in a single transaction
- Gas-efficient queries
- Essential for dApp frontends

**3. Permit2** (`0x000000000022D473030F116dDEE9F6B43aC78BA3`)
- Uniswap's token approval system
- Required for Uniswap V4
- Enhanced ERC20 permit functionality

**4. Safe Factory** (`0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67`)
- Gnosis Safe multisig deployment
- Account abstraction support
- Standard safe contract addresses

### Configuration

<Note>
**Automatic Setup**: These contracts are automatically deployed during `yourchain init`. They are hardcoded into the codebase.

No manual configuration needed unless you want to disable specific contracts.
</Note>

**Verification After Init**:
```bash
jq '.app_state.evm.preinstalls' ~/.yourchain/config/genesis.json
```



## EVM Access Control

**What It Is**: Sets permissions for deploying and calling smart contracts.

**Genesis Path**: `app_state.evm.params.access_control`

**Default**: Fully permissionless (anyone can deploy and call contracts)

### Access Control Types

| Type | Value | Behavior | access_control_list Usage |
||-|-|--|
| **Permissionless** | `0` | Anyone can perform action | Ignored (can be empty) |
| **Restricted** | `1` | Block addresses in list | Blocklist |
| **Permissioned** | `2` | Only addresses in list | Allowlist |

### Configuration Options

<Tabs>
<Tab title="Permissionless (Default)">
```json
{
  "app_state": {
    "evm": {
      "params": {
        "access_control": {
          "create": {
            "access_type": 0,
            "access_control_list": []
          },
          "call": {
            "access_type": 0,
            "access_control_list": []
          }
        }
      }
    }
  }
}
```

**Use Case**: Public chains, testnets, open ecosystems

**Behavior**: Anyone can deploy and call contracts
</Tab>

<Tab title="Permissioned Deployment">
```bash
jq '.app_state.evm.params.access_control = {
  "create": {
    "access_type": 2,
    "access_control_list": [
      "0x1234567890123456789012345678901234567890",
      "0xabcdefabcdefabcdefabcdefabcdefabcdefabcd"
    ]
  },
  "call": {
    "access_type": 0,
    "access_control_list": []
  }
}' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Enterprise chains, regulated environments, controlled contract deployment

**Behavior**: Only allowlisted addresses can deploy contracts, anyone can call them
</Tab>

<Tab title="Restricted (Blocklist)">
```bash
jq '.app_state.evm.params.access_control.create = {
  "access_type": 1,
  "access_control_list": [
    "0xBADADDRESS1234567890123456789012345678"
  ]
}' genesis.json > tmp && mv tmp genesis.json
```

**Use Case**: Blocking known malicious addresses while keeping the chain open

**Behavior**: All addresses can deploy except those in the blocklist
</Tab>

<Tab title="Fully Closed">
```json
{
  "access_control": {
    "create": {
      "access_type": 1,
      "access_control_list": []
    },
    "call": {
      "access_type": 1,
      "access_control_list": []
    }
  }
}
```

**Use Case**: Chains that only use predeployed contracts, no user deployments

**Behavior**: Empty blocklist with type=1 effectively blocks all deployment/calls
</Tab>
</Tabs>

<Tip>
**Recommendation**: Start with permissionless for testnets. For mainnets, consider permissioned deployment initially, then transition to permissionless through governance once the chain is stable.
</Tip>

### Modifying After Genesis

Access control can be changed through governance proposals.

**Source**: [x/vm/types/params.go:160-165](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L160-L165)



## Extra EIPs

**What It Is**: Enables additional Ethereum Improvement Proposals not in the default EVM configuration.

**Genesis Path**: `app_state.evm.params.extra_eips`

**Type**: Array of EIP numbers (int64)

**Default**: `[]` (empty)

### When to Use

<Note>
**Most Common Use Case**: Leave empty and use defaults.

The default EVM configuration includes all commonly-used Ethereum features through the Cancun upgrade.
</Note>

### Configuration

```bash
jq '.app_state.evm.params.extra_eips = [1153, 3855]' genesis.json > tmp && mv tmp genesis.json
```

**Example Genesis**:
```json
{
  "app_state": {
    "evm": {
      "params": {
        "extra_eips": [1153, 3855]
      }
    }
  }
}
```

<Warning>
EIPs must be activatable in the EVM implementation. Invalid EIP numbers will cause genesis validation to fail.
</Warning>

**Use Case**: If you need specific EIP features not yet in the default configuration for advanced contract requirements.

**Source**: [x/vm/types/params.go:33](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L33)



## History Serve Window

**What It Is**: Controls how far back historical state queries can go (EVM state pruning).

**Genesis Path**: `app_state.evm.params.history_serve_window`

**Type**: uint64 (number of blocks)

**Default**: `8192` (same as EIP-2935)

### Configuration

```bash
jq '.app_state.evm.params.history_serve_window = 8192' genesis.json > tmp && mv tmp genesis.json
```

### Values and Trade-offs

| Value | Retention Period | Disk Usage | Query Capability |
|-|--|||
| `0` | Unlimited (forever) | Grows continuously | Full historical queries |
| `8192` | ~18 hours (at 8s blocks) | Moderate | Recent state only |
| `86400` | ~8 days | Higher | Week of history |

**Trade-offs**:
- **Higher values**: More disk space, can query older state
- **Lower values**: Less disk space, limited historical queries
- **`0`**: Maximum compatibility, but growing disk usage

<Tip>
**Recommendation**: Use default `8192` unless you have specific historical data retention requirements.
</Tip>

**Source**: [x/vm/types/params.go:50](https://github.com/cosmos/evm/blob/main/x/vm/types/params.go#L50)



## EIP-1559 Fee Market

**What It Is**: Configures Ethereum's EIP-1559 dynamic fee market mechanism for automatic fee adjustment based on network congestion.

**Genesis Path**: `app_state.feemarket.params`

**Default**: EIP-1559 enabled with dynamic base fee

<Info>
**Learn More:**
- [EIP-1559 Fee Market Concepts](/docs/evm/next/documentation/concepts/eip-1559-feemarket) - Understanding dynamic fees
- [FeeMarket Module Reference](/docs/evm/next/documentation/cosmos-sdk/modules/feemarket) - Complete module documentation
</Info>

### Complete Configuration

```bash
jq '.app_state.feemarket.params = {
  "no_base_fee": false,
  "base_fee": "1000000000",
  "base_fee_change_denominator": 8,
  "elasticity_multiplier": 2,
  "min_gas_price": "0",
  "min_gas_multiplier": "0.5",
  "enable_height": 0
}' genesis.json > tmp && mv tmp genesis.json
```

### Parameters Explained

**1. `no_base_fee`** (bool, default: `false`)
- `false`: Enable EIP-1559 dynamic fees (recommended)
- `true`: Disable dynamic fees (fixed fee model)

**2. `base_fee`** (string, default: `"1000000000"` = 1 gwei)
- Initial base fee per gas in wei
- Common values:
  - `"1000000000"` = 1 gwei (Ethereum mainnet typical)
  - `"100000000"` = 0.1 gwei (cheaper L2s)
  - `"10000000000"` = 10 gwei (higher fee chains)

**3. `base_fee_change_denominator`** (uint32, default: `8`)
- Controls adjustment speed: `max_change = 1/denominator`
- `8` = ±12.5% max change per block (Ethereum standard)
- `50` = ±2% max change (slower adjustment)
- Lower = faster price adjustment

**4. `elasticity_multiplier`** (uint32, default: `2`)
- Determines gas target: `target = max_gas / elasticity`
- `2` = target is 50% of max gas per block
- Block above target → base fee increases
- Block below target → base fee decreases

**5. `min_gas_price`** (string, default: `"0"`)
- Network-wide minimum gas price floor in wei
- `"0"` = no floor
- Example: `"500000000"` = 0.5 gwei minimum

**6. `min_gas_multiplier`** (string, default: `"0.5"`)
- Fraction of base fee that constitutes minimum
- Must be between 0 and 1
- `"0.5"` = 50% of base fee

**7. `enable_height`** (int64, default: `0`)
- Block height to activate EIP-1559
- `0` = enabled from genesis
- `> 0` = activate at specific height

### Configuration Examples

<Tabs>
<Tab title="Standard EIP-1559 (Recommended)">
```json
{
  "no_base_fee": false,
  "base_fee": "1000000000",
  "base_fee_change_denominator": 8,
  "elasticity_multiplier": 2,
  "min_gas_price": "0",
  "min_gas_multiplier": "0.5",
  "enable_height": 0
}
```

**Use Case**: Standard Ethereum-compatible chains with predictable fees
</Tab>

<Tab title="Fixed Fee (Disabled EIP-1559)">
```json
{
  "no_base_fee": true,
  "min_gas_price": "1000000000"
}
```

**Use Case**: Traditional Cosmos chains or specific testing scenarios
</Tab>

<Tab title="Low-Fee L2">
```json
{
  "no_base_fee": false,
  "base_fee": "100000000",
  "min_gas_price": "100000000",
  "base_fee_change_denominator": 8,
  "elasticity_multiplier": 2
}
```

**Use Case**: Layer 2 chains with lower transaction costs
</Tab>
</Tabs>

<Tip>
Most Ethereum-compatible chains should keep EIP-1559 enabled (default) for better user experience and fee predictability.
</Tip>

**Source**: [x/feemarket/types/params.go:13-21](https://github.com/cosmos/evm/blob/main/x/feemarket/types/params.go#L13-L21)



## Minimum Gas Prices

**What It Is**: Node-level setting that rejects transactions with gas price below this value.

**File**: `~/.yourchain/config/app.toml`

**Format**: `<amount><denom>`

### Configuration

```toml
minimum-gas-prices = "1000000000atoken"
```

### Examples by Decimal Precision

**18 Decimals**:
- `"1000000000atoken"` = 1 gwei = 0.000000001 token
- `"500000000atoken"` = 0.5 gwei
- `"0atoken"` = accept all transactions (not recommended)

**6 Decimals**:
- `"1000utoken"` = 0.001 token
- `"500utoken"` = 0.0005 token

### How It Works

- Node rejects transactions with gas price below this value
- Protects against spam
- Should align with `min_gas_price` from genesis fee market config
- Each node can set independently

<Tip>
**Recommendation**: Set to at least the expected minimum to prevent mempool spam. For production, use a value that covers the cost of transaction processing.
</Tip>



## EVM Mempool Settings

**What It Is**: Controls transaction pool behavior including price limits, queue sizes, and lifetime.

**File**: `~/.yourchain/config/app.toml`

**Section**: `[evm.mempool]`

<Info>
**New in v0.5.0**: Mempool configuration is now fully exposed in `app.toml` and can be adjusted without code changes. Previously, these settings were hardcoded.
</Info>

### Full Configuration

```toml
[evm.mempool]
# PriceLimit is the minimum gas price to enforce for acceptance into the pool (in wei)
price-limit = 1

# PriceBump is the minimum price bump percentage to replace an already existing transaction (nonce)
price-bump = 10

# AccountSlots is the number of executable transaction slots guaranteed per account
account-slots = 16

# GlobalSlots is the maximum number of executable transaction slots for all accounts
global-slots = 5120

# AccountQueue is the maximum number of non-executable transaction slots permitted per account
account-queue = 64

# GlobalQueue is the maximum number of non-executable transaction slots for all accounts
global-queue = 1024

# Lifetime is the maximum amount of time non-executable transaction are queued
lifetime = "3h0m0s"
```

### Parameters Explained

**1. `price-limit`** (uint64, wei)
- Minimum gas price to accept into mempool
- Default: `1` wei
- Example: `1000000000` = reject txs below 1 gwei

**2. `price-bump`** (uint64, percentage)
- Minimum % increase to replace existing transaction with same nonce
- Default: `10` (10%)
- Example: `20` = require 20% higher gas price

**3. `account-slots`** (uint64)
- Guaranteed executable slots per account
- Default: `16`
- Higher = more pending txs per account

**4. `global-slots`** (uint64)
- Total executable slots across all accounts
- Default: `5120` (4096 + 1024)
- Higher = larger mempool capacity

**5. `account-queue`** (uint64)
- Queued (non-executable) slots per account
- Default: `64`
- For transactions with gaps in nonce sequence

**6. `global-queue`** (uint64)
- Total queued slots across all accounts
- Default: `1024`

**7. `lifetime`** (duration)
- Maximum time transaction stays in mempool
- Default: `"3h0m0s"` (3 hours)
- Format: Go duration string (e.g., `"1h30m"`, `"30m0s"`, `"24h0m0s"`)
- Minimum: `1ns` (validated, but practically should be much longer)

### Validation Rules

<Note>
All mempool parameters have minimum value requirements:
- All uint64 parameters must be at least `1`
- `lifetime` must be at least `1ns`

Invalid values will cause the node to fail validation on startup.
</Note>

### Tuning Recommendations

<AccordionGroup>
<Accordion title="High-Throughput Chain">
```toml
global-slots = 10240
global-queue = 2048
price-limit = 100000000  # 0.1 gwei minimum
lifetime = "6h0m0s"
```

**Use Case**: High-volume chains, DeFi platforms, DEXs
</Accordion>

<Accordion title="Low-Resource Node">
```toml
global-slots = 2048
global-queue = 512
lifetime = "1h0m0s"
account-slots = 8
```

**Use Case**: Nodes with limited memory, validator nodes
</Accordion>

<Accordion title="Strict Spam Protection">
```toml
price-limit = 1000000000  # 1 gwei minimum
price-bump = 25           # 25% replacement cost
lifetime = "30m0s"
account-slots = 4
```

**Use Case**: Preventing spam, maintaining high transaction quality
</Accordion>
</AccordionGroup>

**Source**: [server/config/config.go:158-187](https://github.com/cosmos/evm/blob/v0.5.0-rc.1/server/config/config.go#L158-L187)



## Staking Parameters

**What It Is**: Configures validator staking, unbonding periods, and reward parameters.

**Genesis Path**: `app_state.staking.params`

### Configuration

**Set Bond Denom**:
```bash
jq '.app_state.staking.params.bond_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Complete Configuration**:
```json
{
  "app_state": {
    "staking": {
      "params": {
        "bond_denom": "atoken",
        "unbonding_time": "1814400s",
        "max_validators": 100,
        "max_entries": 7,
        "historical_entries": 10000
      }
    }
  }
}
```

### Parameters

| Parameter | Default | Description |
|--||-|
| `bond_denom` | - | Must match your base denomination |
| `unbonding_time` | `"1814400s"` | 21 days - time to wait for unstaking |
| `max_validators` | `100` | Maximum active validators |
| `max_entries` | `7` | Max unbonding/redelegation entries per delegator |
| `historical_entries` | `10000` | Historical info entries to keep |

<Note>
**CRITICAL**: `bond_denom` must match your bank metadata base denomination and evm_denom.
</Note>



## Governance Parameters

**What It Is**: Configures on-chain governance including voting periods, quorum, and deposit requirements.

**Genesis Path**: `app_state.gov.params`

### Configuration

**Set Min Deposit Denom**:
```bash
jq '.app_state.gov.params.min_deposit[0].denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Set Voting Period (for testnet)**:
```bash
jq '.app_state.gov.params.voting_period = "30s"' genesis.json > tmp && mv tmp genesis.json
```

**Complete Configuration**:
```json
{
  "app_state": {
    "gov": {
      "params": {
        "min_deposit": [
          {
            "denom": "atoken",
            "amount": "10000000000000000000"
          }
        ],
        "max_deposit_period": "172800s",
        "voting_period": "172800s",
        "quorum": "0.334",
        "threshold": "0.5",
        "veto_threshold": "0.334"
      }
    }
  }
}
```

### Parameters

| Parameter | Default | Description |
|--||-|
| `min_deposit` | - | Minimum deposit to submit proposal |
| `max_deposit_period` | `"172800s"` | 2 days to reach min deposit |
| `voting_period` | `"172800s"` | 2 days voting (use `"30s"` for testing) |
| `quorum` | `"0.334"` | 33.4% minimum participation |
| `threshold` | `"0.5"` | 50% minimum yes votes |
| `veto_threshold` | `"0.334"` | 33.4% veto threshold |

<Tip>
For testnets, set `voting_period` to `"30s"` for faster testing. For mainnets, use `"172800s"` (2 days) or longer.
</Tip>



## Mint Parameters

**What It Is**: Configures token inflation and minting schedule.

**Genesis Path**: `app_state.mint.params`

### Configuration

**Set Mint Denom**:
```bash
jq '.app_state.mint.params.mint_denom = "atoken"' genesis.json > tmp && mv tmp genesis.json
```

**Complete Configuration**:
```json
{
  "app_state": {
    "mint": {
      "params": {
        "mint_denom": "atoken",
        "inflation_rate_change": "0.130000000000000000",
        "inflation_max": "0.200000000000000000",
        "inflation_min": "0.070000000000000000",
        "goal_bonded": "0.670000000000000000",
        "blocks_per_year": "6311520"
      }
    }
  }
}
```

### Parameters

| Parameter | Default | Description |
|--||-|
| `mint_denom` | - | Must match your base denomination |
| `inflation_max` | `0.20` | Maximum annual inflation (20%) |
| `inflation_min` | `0.07` | Minimum annual inflation (7%) |
| `inflation_rate_change` | `0.13` | Max inflation change per year |
| `goal_bonded` | `0.67` | Target bonded token ratio (67%) |
| `blocks_per_year` | `6311520` | Expected blocks per year |

**How It Works**: Inflation adjusts automatically based on bonded ratio to incentivize staking toward the goal.



## Distribution Parameters

**What It Is**: Configures reward distribution including community tax and proposer rewards.

**Genesis Path**: `app_state.distribution.params`

### Configuration

```json
{
  "app_state": {
    "distribution": {
      "params": {
        "community_tax": "0.020000000000000000",
        "base_proposer_reward": "0.010000000000000000",
        "bonus_proposer_reward": "0.040000000000000000",
        "withdraw_addr_enabled": true
      }
    }
  }
}
```

### Parameters

| Parameter | Default | Description |
|--||-|
| `community_tax` | `0.02` | 2% of rewards to community pool |
| `base_proposer_reward` | `0.01` | 1% base reward for block proposer |
| `bonus_proposer_reward` | `0.04` | 4% bonus reward for block proposer |
| `withdraw_addr_enabled` | `true` | Allow setting custom withdraw address |



## JSON-RPC Configuration

**What It Is**: Configures the Ethereum JSON-RPC server for EVM client access (MetaMask, web3.js, ethers.js).

**File**: `~/.yourchain/config/app.toml`

**Section**: `[json-rpc]`

<Warning>
**Validator Security**: Validator nodes should NOT expose RPC/API ports publicly. Only RPC nodes (non-validators) should enable JSON-RPC.
</Warning>

### Full Configuration

```toml
[json-rpc]
# Enable JSON-RPC server
enable = true

# HTTP server address (use 127.0.0.1 for localhost only, 0.0.0.0 for public)
address = "0.0.0.0:8545"

# WebSocket server address
ws-address = "0.0.0.0:8546"

# API namespaces to enable
api = ["eth", "net", "web3", "txpool", "debug"]

# Gas cap for eth_call and eth_estimateGas
gas-cap = 25000000

# EVM execution timeout
evm-timeout = "5s"

# Transaction fee cap (in native token units)
txfee-cap = 1.0

# Maximum number of logs returned
logs-cap = 10000

# Maximum block range for queries
block-range-cap = 10000

# HTTP request timeout
http-timeout = "30s"

# HTTP idle timeout
http-idle-timeout = "2m0s"

# Allow unprotected transactions (unsigned) - ONLY FOR DEV
allow-unprotected-txs = false

# Maximum open connections (0 = unlimited)
max-open-connections = 0

# Enable indexer (for historical queries)
enable-indexer = false

# Batch request limit
batch-request-limit = 0

# Batch response max size
batch-response-max-size = 0
```

### API Namespaces

| Namespace | Description | Recommended For |
|--|-|--|
| `eth` | Standard Ethereum RPC | All RPC nodes (required) |
| `net` | Network information | All RPC nodes |
| `web3` | Web3 client version | All RPC nodes |
| `txpool` | Transaction pool inspection | Development, monitoring |
| `debug` | Debug/trace endpoints | Development only (not production) |

### Security Recommendations

**For Public RPC Nodes**:
- Use `address = "127.0.0.1:8545"` and put reverse proxy (nginx) in front
- Enable rate limiting at proxy level
- Set `allow-unprotected-txs = false`
- Remove `debug` from API namespaces
- Set appropriate `gas-cap` to prevent abuse

**For Development**:
- Use `address = "0.0.0.0:8545"` for local network access
- Enable all APIs including `debug`
- Set `allow-unprotected-txs = true` for testing convenience



## EVM Runtime Settings

**What It Is**: EVM execution configuration including chain ID, tracer, and gas limits.

**File**: `~/.yourchain/config/app.toml`

**Section**: `[evm]`

### Configuration

```toml
[evm]
# EVM chain ID (set during init from config/config.go - DO NOT MODIFY)
evm-chain-id = 262144

# Tracer type for debugging
tracer = ""

# Maximum gas limit for individual transactions (0 = unlimited)
max-tx-gas-wanted = 0

# Cache preimages for historical queries
cache-preimage = false

# Minimum tip (priority fee) required
min-tip = 0

# Geth metrics server address
geth-metrics-address = "127.0.0.1:8100"
```

### Parameters

**1. `evm-chain-id`** (uint64) - **READ-ONLY**

<Warning>
**DO NOT MODIFY** this value in app.toml. It was automatically written during `yourchain init` from `config/config.go:78`.

To change the EVM chain ID, you must modify the code constant in `config/config.go` and rebuild the binary BEFORE running init.
</Warning>

- Default: `262144`
- Set during init from code
- Changing breaks transaction signatures

**2. `tracer`** (string)
- Options: `"json"`, `"markdown"`, `"struct"`, `""`
- `"json"`: Detailed traces for debugging
- `""`: No tracing (production)

**3. `max-tx-gas-wanted`** (uint64)
- `0`: Unlimited (default)
- `30000000`: Example limit per transaction
- Protects against excessive gas usage

**4. `min-tip`** (uint64)
- Minimum priority fee in wei
- `0`: Accept all transactions (default)
- `1000000000`: Require at least 1 gwei tip

**5. `geth-metrics-address`** (string)
- Address for go-ethereum metrics server
- Default: `"127.0.0.1:8100"`
- Set to empty string to disable metrics
- Metrics are exposed in Prometheus format

<Info>
**New in v0.5.0**: Go-ethereum metrics are now emitted on a separate server. This separates EVM-specific metrics from Cosmos SDK metrics for better observability.
</Info>



## TLS Configuration

**What It Is**: Enables HTTPS for JSON-RPC endpoints.

**File**: `~/.yourchain/config/app.toml`

**Section**: `[tls]`

### When to Use

<Note>
**Optional**: Only needed if serving RPC over HTTPS directly. Most production setups use a reverse proxy (nginx, Caddy) for TLS termination instead.
</Note>

### Configuration

```toml
[tls]
# Path to TLS certificate
certificate-path = "/path/to/cert.pem"

# Path to TLS private key
key-path = "/path/to/key.pem"
```

### Setup Steps

<Steps>
<Step title="Generate Certificate">
**For testing (self-signed)**:
```bash
openssl req -x509 -newkey rsa:4096 \
  -keyout key.pem \
  -out cert.pem \
  -days 365 \
  -nodes \
  -subj "/CN=yourchain.example.com"
```

**For production**: Use Let's Encrypt or proper CA-signed certificate
</Step>

<Step title="Update app.toml">
```toml
[tls]
certificate-path = "/home/user/.yourchain/config/cert.pem"
key-path = "/home/user/.yourchain/config/key.pem"
```
</Step>

<Step title="Test HTTPS Access">
```bash
curl https://localhost:8545 \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' \
  --insecure  # only for self-signed cert testing
```
</Step>
</Steps>

<Tip>
**Production Recommendation**: Use a reverse proxy (nginx, Caddy) for TLS instead of direct TLS in the node. This provides better flexibility and security.
</Tip>



## Network Peers

**What It Is**: Configures persistent peer connections for network discovery and block propagation.

**File**: `~/.yourchain/config/config.toml`

### Configuration

```toml
# Comma separated list of nodes to keep persistent connections to
persistent_peers = "node_id@ip:port,node_id2@ip:port"
```

### Getting Node Information

**Each node gets their Node ID**:
```bash
yourchain comet show-node-id
```

Output: `7c90e16cca334eb7259754f964918d879ca54996`

**Share Connection String**:
- **Format**: `<node-id>@<ip>:<port>`
- **Example**: `7c90e16cca334eb7259754f964918d879ca54996@192.168.1.100:26656`
- **Default P2P Port**: `26656`

### Configuration Example

```toml
persistent_peers = "7c90e16cca334eb7259754f964918d879ca54996@192.168.1.100:26656,abc123def456@192.168.1.101:26656,def456abc789@192.168.1.102:26656"
```

### Verification

```bash
# Check connected peers
curl localhost:26657/net_info | jq '.result.peers'
```



## Chain Identity

**What It Is**: The unique identifiers for your blockchain in both Cosmos and Ethereum ecosystems.

### Cosmos Chain ID

**What It Is**: The string identifier for your blockchain in the Cosmos ecosystem.

**Format**: `{name}-{version}` (e.g., `mychain-1`, `testnet-3`)

**Set During Init**:
```bash
yourchain init mynode --chain-id mychain-1
```

**Or Modify After Init**:
```bash
jq '.chain_id = "mychain-1"' ~/.yourchain/config/genesis.json > tmp && mv tmp genesis.json
```

**Genesis Location**: Root level field `chain_id`

**Examples**:
- Mainnet: `mychain-1` (increment for major upgrades: `mychain-2`, `mychain-3`)
- Testnet: `mychain-testnet-1`
- Devnet: `mychain-dev-1`

<Note>
Can be any string, but `{name}-{number}` format is canonical for IBC client upgrades.
</Note>

### Genesis Time

**What It Is**: UTC timestamp when the chain starts producing blocks.

**Format**: RFC3339 UTC (e.g., `"2024-10-15T00:00:00Z"`)

**Genesis Location**: Root level field `genesis_time`

**Configuration**:
```bash
jq '.genesis_time = "2024-12-01T00:00:00Z"' genesis.json > tmp && mv tmp genesis.json
```

**How It Works**:
- All validators must use identical genesis file with same time
- Chain starts producing blocks automatically at this time
- Validators should start their nodes before genesis time
- Network waits until genesis_time to begin consensus

**Coordination**:
1. Choose future time (allow validators to prepare)
2. Communicate to all validators
3. Ensure all validators use identical genesis file
4. Validators start nodes and wait for genesis time



## Genesis Accounts

**What It Is**: Creates accounts with initial token balances at genesis.

### Adding Single Account

```bash
yourchain genesis add-genesis-account <address-or-key-name> <amount><denom>
```

**Examples**:

```bash
# Using address
yourchain genesis add-genesis-account \
  cosmos1abc123... \
  1000000000000000000000atoken

# Using key name from keyring
yourchain genesis add-genesis-account \
  validator1 \
  1000000000000000000000atoken \
  --keyring-backend test

# Multiple accounts
yourchain genesis add-genesis-account validator1 1000000000000000000000atoken
yourchain genesis add-genesis-account validator2 1000000000000000000000atoken
yourchain genesis add-genesis-account faucet 10000000000000000000000atoken
```

### Bulk Add Accounts

```bash
# Create accounts file
cat > accounts.json <<EOF
[
  {
    "address": "cosmos1abc...",
    "coins": ["1000000000000000000000atoken"]
  },
  {
    "address": "cosmos1def...",
    "coins": ["1000000000000000000000atoken"]
  }
]
EOF

yourchain genesis bulk-add-genesis-account accounts.json
```

### Verification

```bash
jq '.app_state.bank.balances' ~/.yourchain/config/genesis.json
```



## Validator Genesis Transactions

**What It Is**: Gathers validator self-delegation transactions to include in genesis.

### Workflow

<Steps>
<Step title="Each Validator Creates Their Gentx">
```bash
# On validator node
yourchain genesis gentx validator1 \
  1000000000000000000000atoken \
  --chain-id mychain-1 \
  --keyring-backend test \
  --moniker "Validator 1" \
  --commission-rate 0.1 \
  --commission-max-rate 0.2 \
  --commission-max-change-rate 0.01 \
  --min-self-delegation 1
```

**Output**: Creates `~/.yourchain/config/gentx/gentx-<node-id>.json`
</Step>

<Step title="Validator Shares Gentx File">
```bash
# Validator sends this file to coordinator
cat ~/.yourchain/config/gentx/gentx-*.json
```
</Step>

<Step title="Coordinator Collects All Gentxs">
```bash
# Coordinator receives all gentx files
mkdir -p ~/.yourchain/config/gentx/
# Copy all received gentx files to this directory

# Collect them into genesis
yourchain genesis collect-gentxs
```
</Step>

<Step title="Verify Genesis">
```bash
yourchain genesis validate
jq '.app_state.genutil.gen_txs' ~/.yourchain/config/genesis.json
```
</Step>
</Steps>

**Result**: Genesis file now contains all validator self-delegations.



## Genesis Validation

**What It Is**: Validates the final genesis file for correctness before network launch.

### Validation Command

```bash
yourchain genesis validate
```

### What It Checks

- JSON structure is valid
- All module genesis states are valid
- No denomination mismatches
- Token supply is consistent
- All parameters are within valid ranges
- Gentxs are valid

### Common Validation Errors

<AccordionGroup>
<Accordion title="Denomination Mismatch">
```
Error: bond_denom (utoken) does not match evm_denom (atoken)
```

**Fix**: Ensure all denoms match across modules:
- `staking.params.bond_denom`
- `mint.params.mint_denom`
- `evm.params.evm_denom`
- `gov.params.min_deposit[0].denom`
- `bank.denom_metadata[0].base`
</Accordion>

<Accordion title="Invalid Supply">
```
Error: total supply does not match balances
```

**Fix**: Check genesis accounts and token allocations. Recalculate total supply.
</Accordion>

<Accordion title="Invalid Parameter">
```
Error: min_gas_multiplier must be between 0 and 1
```

**Fix**: Correct the parameter value to be within valid range.
</Accordion>
</AccordionGroup>

### Full Verification Checklist

```bash
# 1. Validate structure
yourchain genesis validate

# 2. Check all denoms match
jq '[
  .app_state.staking.params.bond_denom,
  .app_state.mint.params.mint_denom,
  .app_state.evm.params.evm_denom,
  .app_state.gov.params.min_deposit[0].denom,
  .app_state.bank.denom_metadata[0].base
] | unique | length' genesis.json
# Should output: 1 (all denoms are identical)

# 3. Verify total supply
jq '.app_state.bank.balances | map(.coins[0].amount | tonumber) | add' genesis.json

# 4. Check validator count
jq '.app_state.genutil.gen_txs | length' genesis.json
```



## Genesis Distribution

**What It Is**: Distributing the final genesis file to all validators for network launch.

### Distribution Methods

<Tabs>
<Tab title="IPFS (Recommended)">
**Best for large networks**:

```bash
# Coordinator uploads
ipfs add ~/.yourchain/config/genesis.json
# Returns: QmXyz123...

# Validators download
ipfs get QmXyz123... -o ~/.yourchain/config/genesis.json
```

**Benefits**: Decentralized, content-addressed, tamper-proof
</Tab>

<Tab title="GitHub Release">
```bash
# Coordinator creates release with genesis.json
gh release create v1.0.0 ~/.yourchain/config/genesis.json

# Validators download
wget https://github.com/yourorg/yourchain/releases/download/v1.0.0/genesis.json \
  -O ~/.yourchain/config/genesis.json
```

**Benefits**: Version controlled, widely accessible
</Tab>

<Tab title="Secure File Sharing">
- Use encrypted transfer
- Share via private channels
- Verify integrity with hash
- Suitable for private/consortium chains

**Benefits**: Control over distribution, privacy
</Tab>
</Tabs>

<Warning>
**Security**: Use secure, verified channels to prevent tampering. Always verify genesis hash after distribution.
</Warning>



## Genesis Hash Verification

**What It Is**: Ensures all validators have identical genesis files before launch.

### Verification Workflow

<Steps>
<Step title="Coordinator Generates Canonical Hash">
```bash
jq -S -c . ~/.yourchain/config/genesis.json | shasum -a 256 > genesis_hash.txt
cat genesis_hash.txt
```

Example output:
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6  -
```
</Step>

<Step title="Coordinator Publishes Hash">
- Post to official communication channel
- Include in documentation
- Sign with GPG key for verification
</Step>

<Step title="Each Validator Verifies">
```bash
# Generate local hash
jq -S -c . ~/.yourchain/config/genesis.json | shasum -a 256

# Compare with published hash
# They MUST match exactly
```
</Step>

<Step title="All Validators Confirm">
- Report matching hash to coordinator
- Proceed only when ALL validators confirm
</Step>
</Steps>

<Warning>
**CRITICAL**: Even one character difference means different genesis state. All validators must have IDENTICAL files. Do not proceed unless all hashes match.
</Warning>



## Coordinated Launch

**What It Is**: The final steps to launch the network with all validators in sync.

### Pre-Launch: Peer Information Exchange

**Each Validator Shares**:

**1. Get Node ID**:
```bash
yourchain comet show-node-id
```
Output: `7c90e16cca334eb7259754f964918d879ca54996`

**2. Share Connection Information**:
- **Node ID**: `7c90e16cca334eb7259754f964918d879ca54996`
- **Public IP**: `192.168.1.100` (or domain name)
- **P2P Port**: `26656` (default)
- **Format**: `<node-id>@<ip>:<port>`

**3. Update persistent_peers**:

Each validator edits `~/.yourchain/config/config.toml`:
```toml
persistent_peers = "7c90e16c@192.168.1.100:26656,abc123de@192.168.1.101:26656,def456ab@192.168.1.102:26656"
```

### Launch Sequence

<Steps>
<Step title="Verify Genesis Time">
All validators check:
```bash
jq '.genesis_time' ~/.yourchain/config/genesis.json
```

Ensure all validators have the same genesis_time set in their genesis files.
</Step>

<Step title="Start Nodes Before Genesis Time">
Each validator starts their node 15-30 minutes before genesis_time:

```bash
yourchain start
```

**Expected Output**:
```
Genesis time is in the future. Waiting...
Time until genesis: 29m 45s
```
</Step>

<Step title="Chain Automatically Starts">
At genesis_time, the chain will automatically start producing blocks when 2/3+ of voting power is online.

**Monitor logs**:
```bash
yourchain start 2>&1 | grep "finalizing commit"
```

**Expected Output**:
```
INF finalizing commit of block hash=ABC123... height=1
INF finalizing commit of block hash=DEF456... height=2
INF finalizing commit of block hash=GHI789... height=3
```
</Step>
</Steps>

### Monitoring Block Production

**1. Check Block Height Increasing**:
```bash
curl localhost:26657/status | jq '.result.sync_info.latest_block_height'
```

**2. Check Validator Participation**:
```bash
curl localhost:26657/validators | jq '.result.validators | length'
```

**3. Confirm 2/3+ Voting Power**:
```bash
curl localhost:26657/validators | \
  jq '[.result.validators[].voting_power | tonumber] | add'
```

**4. Check Network Health**:
```bash
curl localhost:26657/health
# Should return: {}
```

**5. Test RPC Access**:
```bash
curl http://localhost:8545 \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

### Common Launch Issues

<AccordionGroup>
<Accordion title="Chain Not Starting">
**Symptoms**: Nodes waiting indefinitely, no blocks produced

**Checks**:
- Verify genesis_time hasn't passed
- Confirm 2/3+ validators online
- Check logs for errors
- Verify persistent_peers configured correctly

**Solutions**:
- Ensure enough validators are online
- Check network connectivity between nodes
- Verify genesis files match (hash verification)
</Accordion>

<Accordion title="Not Producing Blocks">
**Symptoms**: Nodes connected but no block production

**Checks**:
- Verify >= 2/3 voting power online
- Check validator gentxs are in genesis
- Confirm no consensus errors in logs

**Solutions**:
- Wait for more validators to come online
- Verify validator keys are correct
- Check for network partitions
</Accordion>

<Accordion title="Peer Connection Issues">
**Symptoms**: Nodes can't find peers

**Checks**:
- Verify persistent_peers configured
- Check firewall rules (port 26656)
- Confirm IP addresses are correct

**Solutions**:
- Update persistent_peers with correct addresses
- Open P2P port in firewall
- Check network connectivity
</Accordion>
</AccordionGroup>



## Monitoring and Alerting

**What It Is**: Post-launch monitoring infrastructure to ensure chain health and validator performance.

### Recommended Tools

**1. Prometheus + Grafana**

Enable metrics in `config.toml`:
```toml
[instrumentation]
prometheus = true
prometheus_listen_addr = ":26660"
```

**2. Tenderduty** (Validator monitoring)

Install:
```bash
git clone https://github.com/blockpane/tenderduty
cd tenderduty
go install
```

### Key Metrics to Monitor

- Block production rate (~6s per block)
- Validator uptime and participation
- Missed blocks (slashing risk)
- Peer connections (network health)
- Disk usage (state growth)
- Memory usage
- RPC latency
- Transaction throughput
- Gas prices

### Recommended Alerts

**Critical Alerts**:
- Validator jailed
- Missed blocks > 5
- RPC downtime
- Out of sync (> 10 blocks behind)

**Warning Alerts**:
- Disk > 80% full
- Memory > 85% used
- Peer connections < expected
- Abnormal gas prices
- High transaction rejection rate

**Example Alert** (Prometheus):
```yaml
- alert: ValidatorMissedBlocks
  expr: missed_blocks > 5
  for: 5m
  annotations:
    summary: "Validator missing blocks"
    description: "Validator has missed {{ $value }} blocks"
```



## Governance Parameter Updates

**What It Is**: Modifying chain parameters after launch through on-chain governance.

### Parameters That Can Be Changed

**VM Module Parameters**:
- `active_static_precompiles`
- `access_control`
- `extra_eips`
- `history_serve_window`

**Fee Market Parameters**:
- `base_fee`
- `base_fee_change_denominator`
- `elasticity_multiplier`
- `min_gas_price`
- `no_base_fee`

**Standard Cosmos Parameters**:
- Staking (unbonding_time, max_validators)
- Governance (voting_period, quorum)
- Distribution (community_tax)
- Mint (inflation parameters)

### Submitting a Parameter Change Proposal

```bash
# Create proposal JSON
cat > proposal.json <<EOF
{
  "messages": [
    {
      "@type": "/cosmos.params.v1beta1.MsgUpdateParams",
      "authority": "cosmos10d07y265gmmuvt4z0w9aw880jnsr700j6zn9kn",
      "params": {
        "base_fee": "2000000000"
      }
    }
  ],
  "metadata": "Change base fee to 2 gwei",
  "deposit": "10000000000000000000atoken",
  "title": "Increase Base Fee",
  "summary": "Proposal to increase base fee from 1 gwei to 2 gwei"
}
EOF

# Submit proposal
yourchain tx gov submit-proposal proposal.json \
  --from validator1 \
  --chain-id mychain-1 \
  --fees 1000000000000000000atoken
```

### Voting on Proposals

```bash
yourchain tx gov vote 1 yes \
  --from validator1 \
  --chain-id mychain-1
```

**Vote Options**: `yes`, `no`, `abstain`, `no_with_veto`



## Software Upgrades

**What It Is**: Planning and executing coordinated software upgrades for new features or bug fixes.

### Upgrade Process

<Steps>
<Step title="Monitor Releases">
- Watch [cosmos/evm releases](https://github.com/cosmos/evm/releases)
- Review changelogs
- Check for security patches
- Assess breaking changes
</Step>

<Step title="Test on Testnet">
- Deploy upgrade to testnet first
- Verify compatibility
- Test all features
- Measure upgrade duration
</Step>

<Step title="Create Upgrade Proposal">
```bash
cat > upgrade-proposal.json <<EOF
{
  "messages": [
    {
      "@type": "/cosmos.upgrade.v1beta1.MsgSoftwareUpgrade",
      "authority": "cosmos10d07y265gmmuvt4z0w9aw880jnsr700j6zn9kn",
      "plan": {
        "name": "v0.5.0",
        "height": "1000000",
        "info": "Upgrade to v0.5.0"
      }
    }
  ],
  "metadata": "Upgrade to v0.5.0",
  "deposit": "10000000000000000000atoken",
  "title": "Upgrade to v0.5.0",
  "summary": "Security fixes and new features"
}
EOF

yourchain tx gov submit-proposal upgrade-proposal.json \
  --from validator1 \
  --chain-id mychain-1
```
</Step>

<Step title="Implement Upgrade Handler">
Create `app/upgrades/v0_5_0/upgrades.go`:

```go
package v0_5_0

import (
    sdk "github.com/cosmos/cosmos-sdk/types"
    "github.com/cosmos/cosmos-sdk/types/module"
    upgradetypes "github.com/cosmos/cosmos-sdk/x/upgrade/types"
)

func CreateUpgradeHandler(
    mm *module.Manager,
    configurator module.Configurator,
) upgradetypes.UpgradeHandler {
    return func(ctx sdk.Context, plan upgradetypes.Plan, vm module.VersionMap) (module.VersionMap, error) {
        // Custom upgrade logic here
        return mm.RunMigrations(ctx, configurator, vm)
    }
}
```

Register in `app/app.go`:
```go
import v0_5_0 "github.com/your-org/your-chain/app/upgrades/v0_5_0"

app.UpgradeKeeper.SetUpgradeHandler(
    "v0.5.0",
    v0_5_0.CreateUpgradeHandler(app.mm, app.configurator),
)
```
</Step>

<Step title="Execute Upgrade">
1. Proposal passes via governance
2. Chain automatically halts at upgrade height
3. Validators swap binaries to new version
4. Chain resumes with new version

**Binary Swap**:
```bash
# Stop old binary (automatic at upgrade height)
# Replace binary
cp yourchain-v0.5.0 $GOPATH/bin/yourchain
# Restart
yourchain start
```
</Step>
</Steps>

<Info>
**Learn More:**
- [Upgrade Handlers Guide](/docs/evm/next/documentation/migrations/upgrade-handlers)
- [Migration Guides](/docs/evm/next/documentation/migrations/migration-v0.4-to-v0.5)
</Info>



## Configuration Workflow

Here's the recommended order for configuring your chain from start to finish:

<Steps>
<Step title="Plan Your Configuration">
Decide on:
- Binary name and branding
- Chain IDs (Cosmos and EVM)
- Token denomination and decimals (18 vs 6)
- Precompiles needed for your use case
- Access control policy (permissionless vs permissioned)
- Fee market strategy (EIP-1559 vs fixed)
</Step>

<Step title="Modify Code (Pre-Genesis)">
Before any initialization:

```bash
# 1. Rename binary
mv evmd yourchain
find . -type f -name "*.go" -exec sed -i '' 's/evmd/yourchain/g' {} \;

# 2. Update Bech32 prefix in config/config.go
# 3. Update BIP44 coin type in crypto/hd/hdpath.go
# 4. Update EVM chain ID in config/config.go

# 5. Rebuild
go mod tidy
make build
```
</Step>

<Step title="Initialize Chain">
```bash
yourchain init mynode --chain-id yourchain-1
```
</Step>

<Step title="Configure Genesis">
Edit `~/.yourchain/config/genesis.json`:

```bash
GENESIS=~/.yourchain/config/genesis.json

# Set denominations across all modules
jq '.app_state.staking.params.bond_denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state.mint.params.mint_denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state.gov.params.min_deposit[0].denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS
jq '.app_state.evm.params.evm_denom="atoken"' $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata (18 decimals example)
# Set precompiles
# Set access control
# Set fee market parameters
```
</Step>

<Step title="Configure Runtime (app.toml)">
Edit `~/.yourchain/config/app.toml`:

```toml
[evm]
chain-id = 262144  # Verify matches your code setting
min-tip = 1000000000

[json-rpc]
enable = true
address = "0.0.0.0:8545"
api = ["eth", "net", "web3"]

minimum-gas-prices = "1000000000atoken"
```
</Step>

<Step title="Add Genesis Accounts">
```bash
yourchain genesis add-genesis-account validator1 1000000000000000000000atoken
yourchain genesis add-genesis-account faucet 10000000000000000000000atoken
```
</Step>

<Step title="Create Validator Gentx">
```bash
yourchain genesis gentx validator1 \
  1000000000000000000000atoken \
  --chain-id yourchain-1 \
  --moniker "My Validator"
```
</Step>

<Step title="Collect Gentxs (Coordinator)">
If multi-validator network:
```bash
# Collect all gentx files
yourchain genesis collect-gentxs
```
</Step>

<Step title="Validate Genesis">
```bash
yourchain genesis validate
```
</Step>

<Step title="Test Locally">
```bash
yourchain start
```

Verify:
- Chain starts successfully
- RPC is accessible
- Precompiles work
- Token denomination is correct
</Step>

<Step title="Launch Network">
For production:
- Distribute genesis file
- Verify genesis hash
- Exchange peer information
- Coordinate launch time
- Start validators
</Step>
</Steps>



## Complete Examples

### Example: 18-Decimal Chain

<CodeGroup>
```bash setup.sh
#!/bin/bash
# Complete setup script for 18-decimal chain

BINARY="yourchain"
CHAIN_ID="yourchain-1"
EVM_CHAIN_ID="262144"
DENOM="atoken"
GENESIS=~/.yourchain/config/genesis.json

# Initialize
$BINARY init mynode --chain-id $CHAIN_ID

# Configure denominations across all modules
jq ".app_state.staking.params.bond_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.mint.params.mint_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.gov.params.min_deposit[0].denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.evm.params.evm_denom=\"$DENOM\"" $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata (18 decimals)
jq ".app_state.bank.denom_metadata=[{
  \"description\": \"The native staking token\",
  \"denom_units\": [
    {\"denom\": \"$DENOM\", \"exponent\": 0, \"aliases\": [\"attotoken\"]},
    {\"denom\": \"token\", \"exponent\": 18, \"aliases\": []}
  ],
  \"base\": \"$DENOM\",
  \"display\": \"token\",
  \"name\": \"Token\",
  \"symbol\": \"TKN\"
}]" $GENESIS > tmp && mv tmp $GENESIS

# Enable precompiles
jq '.app_state.evm.params.active_static_precompiles=[
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800",
  "0x0000000000000000000000000000000000000804"
]' $GENESIS > tmp && mv tmp $GENESIS

# Configure ERC20 token pair
jq '.app_state.erc20.token_pairs=[{
  "erc20_address": "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  "denom": "atoken",
  "enabled": true,
  "contract_owner": 1
}]' $GENESIS > tmp && mv tmp $GENESIS

jq '.app_state.erc20.native_precompiles=["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"]' $GENESIS > tmp && mv tmp $GENESIS

echo "Genesis configuration complete!"
```

```toml app.toml
# Runtime configuration for 18-decimal chain

[evm]
chain-id = 262144
tracer = ""
max-tx-gas-wanted = 0
min-tip = 1000000000  # 1 gwei

[evm.mempool]
price-limit = 1000000000
price-bump = 10
account-slots = 16
global-slots = 5120
account-queue = 64
global-queue = 1024
lifetime = "3h"

[json-rpc]
enable = true
address = "0.0.0.0:8545"
ws-address = "0.0.0.0:8546"
api = ["eth", "net", "web3", "txpool"]
gas-cap = 25000000
allow-unprotected-txs = false
enable-indexer = true

minimum-gas-prices = "1000000000atoken"
```
</CodeGroup>

### Example: 6-Decimal Chain with PreciseBank

<CodeGroup>
```bash setup-6-decimal.sh
#!/bin/bash
# Complete setup script for 6-decimal chain with PreciseBank

BINARY="yourchain"
CHAIN_ID="yourchain-1"
EVM_CHAIN_ID="262144"
BASE_DENOM="utoken"
EXTENDED_DENOM="atoken"
GENESIS=~/.yourchain/config/genesis.json

# Initialize
$BINARY init mynode --chain-id $CHAIN_ID

# Configure denominations
jq ".app_state.staking.params.bond_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.mint.params.mint_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.gov.params.min_deposit[0].denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS
jq ".app_state.evm.params.evm_denom=\"$BASE_DENOM\"" $GENESIS > tmp && mv tmp $GENESIS

# Set bank metadata (6 decimals)
jq ".app_state.bank.denom_metadata=[{
  \"description\": \"The native staking token\",
  \"denom_units\": [
    {\"denom\": \"$BASE_DENOM\", \"exponent\": 0},
    {\"denom\": \"token\", \"exponent\": 6}
  ],
  \"base\": \"$BASE_DENOM\",
  \"display\": \"token\",
  \"name\": \"Token\",
  \"symbol\": \"TKN\"
}]" $GENESIS > tmp && mv tmp $GENESIS

# Set extended denom options (REQUIRED for 6 decimals)
jq ".app_state.evm.params.extended_denom_options={
  \"extended_denom\": \"$EXTENDED_DENOM\"
}" $GENESIS > tmp && mv tmp $GENESIS

# Enable precompiles
jq '.app_state.evm.params.active_static_precompiles=[
  "0x0000000000000000000000000000000000000100",
  "0x0000000000000000000000000000000000000400",
  "0x0000000000000000000000000000000000000800"
]' $GENESIS > tmp && mv tmp $GENESIS

echo "Genesis configuration complete!"
echo "IMPORTANT: You must add PreciseBank module to app.go"
```

```go app.go
// In app.go, add PreciseBank module for 6-decimal support:

import (
    precisebankkeeper "github.com/cosmos/evm/x/precisebank/keeper"
    precisebanktypes "github.com/cosmos/evm/x/precisebank/types"
    precisebank "github.com/cosmos/evm/x/precisebank"
)

// Add to store keys
keys := storetypes.NewKVStoreKeys(
    // ... other keys
    precisebanktypes.StoreKey,
)

// Initialize PreciseBankKeeper
app.PreciseBankKeeper = precisebankkeeper.NewKeeper(
    appCodec,
    keys[precisebanktypes.StoreKey],
    app.BankKeeper,
    app.AccountKeeper,
)

// IMPORTANT: Use PreciseBankKeeper in EVMKeeper
app.EVMKeeper = evmkeeper.NewKeeper(
    appCodec,
    keys[evmtypes.StoreKey],
    app.GetSubspace(evmtypes.ModuleName),
    app.AccountKeeper,
    app.PreciseBankKeeper,  // Use PreciseBankKeeper, not BankKeeper!
    app.StakingKeeper,
    app.FeeMarketKeeper,
    authtypes.NewModuleAddress(govtypes.ModuleName).String(),
)

// Add to module manager
app.ModuleManager = module.NewManager(
    // ... other modules
    precisebank.NewAppModule(app.PreciseBankKeeper, app.AccountKeeper),
    // ...
)

// Add to genesis order (after bank, before evm)
genesisModuleOrder := []string{
    // ...
    banktypes.ModuleName,
    precisebanktypes.ModuleName,
    evmtypes.ModuleName,
    // ...
}
```
</CodeGroup>



## Quick Reference

### Commands Summary

```bash
# Build
make build

# Initialize
yourchain init <moniker> --chain-id <chain-id>

# Genesis accounts
yourchain genesis add-genesis-account <address> <amount><denom>

# Create validator gentx
yourchain genesis gentx <key-name> <amount><denom> --chain-id <chain-id>

# Collect gentxs
yourchain genesis collect-gentxs

# Validate genesis
yourchain genesis validate

# Hash genesis
jq -S -c . genesis.json | shasum -a 256

# Show node ID
yourchain comet show-node-id

# Start node
yourchain start

# Check status
curl localhost:26657/status

# Check block height (Cosmos RPC)
curl localhost:26657/status | jq '.result.sync_info.latest_block_height'

# Check block height (Ethereum RPC)
curl http://localhost:8545 -X POST -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

### File Locations

| File | Location |
||-|
| Genesis | `~/.yourchain/config/genesis.json` |
| App Config | `~/.yourchain/config/app.toml` |
| CometBFT Config | `~/.yourchain/config/config.toml` |
| Gentx Directory | `~/.yourchain/config/gentx/` |
| Bech32 Prefix | `config/config.go:62` |
| BIP44 Coin Type | `crypto/hd/hdpath.go:9` |
| EVM Chain ID | `config/config.go:78` |

### Default Values

| Parameter | Default | Source |
|--||--|
| Bech32 Prefix | `cosmos` | config/config.go:62 |
| BIP44 Coin Type | `60` | crypto/hd/hdpath.go:9 |
| EVM Chain ID | `262144` | config/config.go:78 |
| Base Fee | `1000000000` (1 gwei) | x/feemarket/types/params.go:13 |
| History Serve Window | `8192` blocks | x/vm/types/params.go:50 |
| Mempool Price Limit | `1` wei | server/config/config.go:179 |
| Mempool Price Bump | `10` (10%) | server/config/config.go:180 |
| Mempool Account Slots | `16` | server/config/config.go:181 |
| Mempool Global Slots | `5120` | server/config/config.go:182 |
| Mempool Account Queue | `64` | server/config/config.go:183 |
| Mempool Global Queue | `1024` | server/config/config.go:184 |
| Mempool Lifetime | `3h0m0s` | server/config/config.go:185 |
| Min Tip | `0` | server/config/config.go:68 |
| Geth Metrics Address | `127.0.0.1:8100` | server/config/config.go:71 |
| Unbonding Time | `1814400s` (21 days) | Staking params default |
| Voting Period | `172800s` (2 days) | Gov params default |



**Generated from**: [cosmos/evm](https://github.com/cosmos/evm) codebase
**Version**: v0.5.0-rc.1 (Cosmos SDK v0.53.4, IBC-Go v10, CometBFT v0.38.18)
