---
title: "Token Configuration"
description: "Configuring the native token and decimal precision"
---

## Overview

Cosmos EVM handles token configuration through bank metadata and VM parameters, and the implications of different decimal precision choices.
For most deployments, it is sugested to stick with the canonical EVM setup with an 18 decimal token for simplicity sake.

It's also important to note that `eth` and `wei` are still valid identifiers for the native token, so your choices here will not affect any common EVM tooling or app compatibility.

## How Token Configuration Works

Cosmos EVM derives token configuration from two sources:

1. **Bank Module Metadata**: Defines the token denominations and decimal precision
2. **VM Module Parameters**: Specifies which bank denom to use as the native EVM token

During initialization, the VM module's `SetGlobalConfigVariables` function:
1. Reads bank metadata for the specified `evm_denom`
2. Extracts decimal precision from the denom units
3. Creates `EvmCoinInfo` with appropriate extended denom
4. Stores this configuration in VM keeper state

## Decimal Precision Choices

### 18 Decimal Configuration (Recommended for Simplicity)

**Genesis Configuration:**
```json
{
  "bank": {
    "denom_metadata": [
      {
        "description": "The native token with 18 decimals",
        "denom_units": [
          {
            "denom": "atoken",    // Base denomination (18 decimals)
            "exponent": 0
          },
          {
            "denom": "token",     // Display denomination
            "exponent": 18
          }
        ],
        "base": "atoken",
        "display": "token",
        "name": "Token",
        "symbol": "TKN"
      }
    ]
  },
  "vm": {
    "params": {
      "evm_denom": "atoken"     // References bank metadata base denom
      // No extended_denom_options needed
    }
  }
}
```

**Architecture Benefits:**
- Direct 1:1 mapping with EVM (no conversion needed)
- No precision loss or dust accumulation
- Uses standard Cosmos SDK bank module by default
- No additional modules required
- Simplest implementation - this is the default configuration

**Module Configuration (Default):**
```go
// No changes needed - the default configuration already uses standard bank:
app.EVMKeeper = evmkeeper.NewKeeper(
    appCodec,
    keys[evmtypes.StoreKey],
    tkeys[evmtypes.TransientKey],
    keys,
    authtypes.NewModuleAddress(govtypes.ModuleName),
    app.AccountKeeper,
    app.BankKeeper,  // Uses bank keeper directly by default
    app.StakingKeeper,
    // ...
)
```

### 6 Decimal Configuration (Common in Cosmos)

**Genesis Configuration:**
```json
{
  "bank": {
    "denom_metadata": [
      {
        "description": "The native token with 6 decimals",
        "denom_units": [
          {
            "denom": "utoken",    // Base denomination (6 decimals)
            "exponent": 0
          },
          {
            "denom": "token",     // Display denomination
            "exponent": 6
          }
        ],
        "base": "utoken",
        "display": "token",
        "name": "Token",
        "symbol": "TKN"
      }
    ]
  },
  "vm": {
    "params": {
      "evm_denom": "utoken",    // References bank metadata base denom
      "extended_denom_options": {
        "extended_denom": "atoken"  // Required: 18-decimal representation for EVM
      }
    }
  }
}
```

**Architecture Requirements:**
- Requires adding precisebank module to track fractional amounts
- Conversion: 1 utoken = 10^12 wei in EVM
- Precisebank wraps standard bank module
- Handles dust from decimal conversion
- See [Adding Precisebank Module](/docs/evm/next/documentation/getting-started/build-a-chain/building-your-chain-guide#adding-precisebank-module-for-non-18-decimal-chains) for implementation

### Other Decimal Configurations

Any decimal precision from 1-18 is supported, but requires careful consideration:

- **2 decimals**: 1 base = 10^16 wei (requires precisebank)
- **9 decimals**: 1 base = 10^9 wei (requires precisebank)
- **12 decimals**: 1 base = 10^6 wei (requires precisebank)

## Implementation Steps

### For 18-Decimal Chains (Default)

1. **No module changes required** - the default configuration already uses standard bank

2. **Configure genesis with 18-decimal token** (see example above)

3. **Verify bank keeper is used directly:**
```go
app.EVMKeeper = evmkeeper.NewKeeper(
    // ... other params
    app.BankKeeper,  // Should use BankKeeper directly (default)
    // ... other params
)
```

### For Non-18 Decimal Chains

1. **Add precisebank module to your app.go:**
```go
// Add these imports:
import "github.com/cosmos/evm/x/precisebank"
import precisebankkeeper "github.com/cosmos/evm/x/precisebank/keeper"
import precisebanktypes "github.com/cosmos/evm/x/precisebank/types"

// Add to module list:
precisebanktypes.ModuleName,
```

2. **Initialize PreciseBankKeeper and use it for EVM:**
```go
app.PreciseBankKeeper = precisebankkeeper.NewKeeper(
    appCodec,
    keys[precisebanktypes.StoreKey],
    app.BankKeeper,
    app.AccountKeeper,
)

app.EVMKeeper = evmkeeper.NewKeeper(
    // ... other params
    app.PreciseBankKeeper,  // Use PreciseBankKeeper instead
    // ... other params
)
```

3. **Configure extended denom** in VM params:
```json
"extended_denom_options": {
  "extended_denom": "atoken"  // Your 18-decimal representation
}
```


## Double-check

1. **Forgetting extended_denom_options**: Non-18 decimal chains MUST specify extended denom
2. **Module mismatch**: Adding precisebank to 18 decimals adds unnecessary complexity
3. **Incorrect denom references**: VM params must reference actual bank metadata base denom
4. **Missing bank metadata**: Bank metadata must be set in genesis
